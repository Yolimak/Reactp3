(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ty={exports:{}},Aa={},Iy={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),R1=Symbol.for("react.portal"),O1=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),F1=Symbol.for("react.profiler"),M1=Symbol.for("react.provider"),$1=Symbol.for("react.context"),U1=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),j1=Symbol.for("react.memo"),z1=Symbol.for("react.lazy"),Bd=Symbol.iterator;function B1(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var ky={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ny=Object.assign,Cy={};function Ki(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||ky}Ki.prototype.isReactComponent={};Ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xy(){}xy.prototype=Ki.prototype;function Ff(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||ky}var Mf=Ff.prototype=new xy;Mf.constructor=Ff;Ny(Mf,Ki.prototype);Mf.isPureReactComponent=!0;var qd=Array.isArray,Dy=Object.prototype.hasOwnProperty,$f={current:null},Ay={key:!0,ref:!0,__self:!0,__source:!0};function by(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Dy.call(t,r)&&!Ay.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),l=0;l<u;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ys,type:e,key:o,ref:s,props:i,_owner:$f.current}}function q1(e,t){return{$$typeof:ys,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ys}function K1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kd=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K1(""+e.key):t.toString(36)}function du(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ys:case R1:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Cl(s,0):r,qd(i)?(n="",e!=null&&(n=e.replace(Kd,"$&/")+"/"),du(i,t,n,"",function(l){return l})):i!=null&&(Uf(i)&&(i=q1(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Kd,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",qd(e))for(var u=0;u<e.length;u++){o=e[u];var a=r+Cl(o,u);s+=du(o,t,n,a,i)}else if(a=B1(e),typeof a=="function")for(e=a.call(e),u=0;!(o=e.next()).done;)o=o.value,a=r+Cl(o,u++),s+=du(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function js(e,t,n){if(e==null)return e;var r=[],i=0;return du(e,r,"","",function(o){return t.call(n,o,i++)}),r}function H1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},pu={transition:null},Q1={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:pu,ReactCurrentOwner:$f};function Py(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:js,forEach:function(e,t,n){js(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return js(e,function(){t++}),t},toArray:function(e){return js(e,function(t){return t})||[]},only:function(e){if(!Uf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Ki;K.Fragment=O1;K.Profiler=F1;K.PureComponent=Ff;K.StrictMode=L1;K.Suspense=V1;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q1;K.act=Py;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ny({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=$f.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)Dy.call(t,a)&&!Ay.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var l=0;l<a;l++)u[l]=arguments[l+2];r.children=u}return{$$typeof:ys,type:e.type,key:i,ref:o,props:r,_owner:s}};K.createContext=function(e){return e={$$typeof:$1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M1,_context:e},e.Consumer=e};K.createElement=by;K.createFactory=function(e){var t=by.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:U1,render:e}};K.isValidElement=Uf;K.lazy=function(e){return{$$typeof:z1,_payload:{_status:-1,_result:e},_init:H1}};K.memo=function(e,t){return{$$typeof:j1,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=pu.transition;pu.transition={};try{e()}finally{pu.transition=t}};K.unstable_act=Py;K.useCallback=function(e,t){return it.current.useCallback(e,t)};K.useContext=function(e){return it.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return it.current.useDeferredValue(e)};K.useEffect=function(e,t){return it.current.useEffect(e,t)};K.useId=function(){return it.current.useId()};K.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return it.current.useMemo(e,t)};K.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};K.useRef=function(e){return it.current.useRef(e)};K.useState=function(e){return it.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return it.current.useTransition()};K.version="18.3.1";Iy.exports=K;var jt=Iy.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=jt,G1=Symbol.for("react.element"),Y1=Symbol.for("react.fragment"),X1=Object.prototype.hasOwnProperty,J1=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z1={key:!0,ref:!0,__self:!0,__source:!0};function Ry(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)X1.call(t,r)&&!Z1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:G1,type:e,key:o,ref:s,props:i,_owner:J1.current}}Aa.Fragment=Y1;Aa.jsx=Ry;Aa.jsxs=Ry;Ty.exports=Aa;var ie=Ty.exports,Oy={exports:{}},xt={},Ly={exports:{}},Fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,j){var B=O.length;O.push(j);e:for(;0<B;){var ve=B-1>>>1,Ce=O[ve];if(0<i(Ce,j))O[ve]=j,O[B]=Ce,B=ve;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var j=O[0],B=O.pop();if(B!==j){O[0]=B;e:for(var ve=0,Ce=O.length,Us=Ce>>>1;ve<Us;){var sr=2*(ve+1)-1,Nl=O[sr],ur=sr+1,Vs=O[ur];if(0>i(Nl,B))ur<Ce&&0>i(Vs,Nl)?(O[ve]=Vs,O[ur]=B,ve=ur):(O[ve]=Nl,O[sr]=B,ve=sr);else if(ur<Ce&&0>i(Vs,B))O[ve]=Vs,O[ur]=B,ve=ur;else break e}}return j}function i(O,j){var B=O.sortIndex-j.sortIndex;return B!==0?B:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var a=[],l=[],c=1,f=null,h=3,d=!1,y=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var j=n(l);j!==null;){if(j.callback===null)r(l);else if(j.startTime<=O)r(l),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(l)}}function E(O){if(g=!1,m(O),!y)if(n(a)!==null)y=!0,Il(k);else{var j=n(l);j!==null&&kl(E,j.startTime-O)}}function k(O,j){y=!1,g&&(g=!1,v(F),F=-1),d=!0;var B=h;try{for(m(j),f=n(a);f!==null&&(!(f.expirationTime>j)||O&&!st());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,h=f.priorityLevel;var Ce=ve(f.expirationTime<=j);j=e.unstable_now(),typeof Ce=="function"?f.callback=Ce:f===n(a)&&r(a),m(j)}else r(a);f=n(a)}if(f!==null)var Us=!0;else{var sr=n(l);sr!==null&&kl(E,sr.startTime-j),Us=!1}return Us}finally{f=null,h=B,d=!1}}var x=!1,A=null,F=-1,Z=5,z=-1;function st(){return!(e.unstable_now()-z<Z)}function no(){if(A!==null){var O=e.unstable_now();z=O;var j=!0;try{j=A(!0,O)}finally{j?ro():(x=!1,A=null)}}else x=!1}var ro;if(typeof p=="function")ro=function(){p(no)};else if(typeof MessageChannel<"u"){var zd=new MessageChannel,P1=zd.port2;zd.port1.onmessage=no,ro=function(){P1.postMessage(null)}}else ro=function(){S(no,0)};function Il(O){A=O,x||(x=!0,ro())}function kl(O,j){F=S(function(){O(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,Il(k))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return O()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=h;h=O;try{return j()}finally{h=B}},e.unstable_scheduleCallback=function(O,j,B){var ve=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ve+B:ve):B=ve,O){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=B+Ce,O={id:c++,callback:j,priorityLevel:O,startTime:B,expirationTime:Ce,sortIndex:-1},B>ve?(O.sortIndex=B,t(l,O),n(a)===null&&O===n(l)&&(g?(v(F),F=-1):g=!0,kl(E,B-ve))):(O.sortIndex=Ce,t(a,O),y||d||(y=!0,Il(k))),O},e.unstable_shouldYield=st,e.unstable_wrapCallback=function(O){var j=h;return function(){var B=h;h=j;try{return O.apply(this,arguments)}finally{h=B}}}})(Fy);Ly.exports=Fy;var eE=Ly.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=jt,Nt=eE;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var My=new Set,Lo={};function Mr(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(Lo[e]=t,e=0;e<t.length;e++)My.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=Object.prototype.hasOwnProperty,nE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hd={},Qd={};function rE(e){return pc.call(Qd,e)?!0:pc.call(Hd,e)?!1:nE.test(e)?Qd[e]=!0:(Hd[e]=!0,!1)}function iE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oE(e,t,n,r){if(t===null||typeof t>"u"||iE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function jf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vf,jf);$e[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vf,jf);$e[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vf,jf);$e[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function zf(e,t,n,r){var i=$e.hasOwnProperty(t)?$e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oE(t,n,i,r)&&(n=null),r||i===null?rE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sn=tE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),vc=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),yc=Symbol.for("react.suspense"),mc=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Vy=Symbol.for("react.offscreen"),Wd=Symbol.iterator;function io(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,xl;function vo(e){if(xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xl=t&&t[1]||""}return`
`+xl+e}var Dl=!1;function Al(e,t){if(!e||Dl)return"";Dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=u);break}}}finally{Dl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vo(e):""}function sE(e){switch(e.tag){case 5:return vo(e.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function gc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ei:return"Fragment";case Zr:return"Portal";case vc:return"Profiler";case Bf:return"StrictMode";case yc:return"Suspense";case mc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uy:return(e.displayName||"Context")+".Consumer";case $y:return(e._context.displayName||"Context")+".Provider";case qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kf:return t=e.displayName||null,t!==null?t:gc(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return gc(e(t))}catch{}}return null}function uE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gc(t);case 8:return t===Bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aE(e){var t=jy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){e._valueTracker||(e._valueTracker=aE(e))}function zy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wc(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function By(e,t){t=t.checked,t!=null&&zf(e,"checked",t,!1)}function Ec(e,t){By(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sc(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sc(e,t,n){(t!=="number"||Pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yo=Array.isArray;function di(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _c(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(yo(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function qy(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ky(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ky(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,Hy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lE=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){lE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function Qy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function Wy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var cE=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(e,t){if(t){if(cE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function kc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=null;function Hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cc=null,pi=null,vi=null;function Zd(e){if(e=ws(e)){if(typeof Cc!="function")throw Error(C(280));var t=e.stateNode;t&&(t=La(t),Cc(e.stateNode,e.type,t))}}function Gy(e){pi?vi?vi.push(e):vi=[e]:pi=e}function Yy(){if(pi){var e=pi,t=vi;if(vi=pi=null,Zd(e),t)for(e=0;e<t.length;e++)Zd(t[e])}}function Xy(e,t){return e(t)}function Jy(){}var bl=!1;function Zy(e,t,n){if(bl)return e(t,n);bl=!0;try{return Xy(e,t,n)}finally{bl=!1,(pi!==null||vi!==null)&&(Jy(),Yy())}}function Mo(e,t){var n=e.stateNode;if(n===null)return null;var r=La(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var xc=!1;if(yn)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){xc=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{xc=!1}function fE(e,t,n,r,i,o,s,u,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var _o=!1,Ru=null,Ou=!1,Dc=null,hE={onError:function(e){_o=!0,Ru=e}};function dE(e,t,n,r,i,o,s,u,a){_o=!1,Ru=null,fE.apply(hE,arguments)}function pE(e,t,n,r,i,o,s,u,a){if(dE.apply(this,arguments),_o){if(_o){var l=Ru;_o=!1,Ru=null}else throw Error(C(198));Ou||(Ou=!0,Dc=l)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function em(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ep(e){if($r(e)!==e)throw Error(C(188))}function vE(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ep(i),e;if(o===r)return ep(i),t;o=o.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function tm(e){return e=vE(e),e!==null?nm(e):null}function nm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nm(e);if(t!==null)return t;e=e.sibling}return null}var rm=Nt.unstable_scheduleCallback,tp=Nt.unstable_cancelCallback,yE=Nt.unstable_shouldYield,mE=Nt.unstable_requestPaint,ye=Nt.unstable_now,gE=Nt.unstable_getCurrentPriorityLevel,Qf=Nt.unstable_ImmediatePriority,im=Nt.unstable_UserBlockingPriority,Lu=Nt.unstable_NormalPriority,wE=Nt.unstable_LowPriority,om=Nt.unstable_IdlePriority,ba=null,en=null;function EE(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ba,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:TE,SE=Math.log,_E=Math.LN2;function TE(e){return e>>>=0,e===0?32:31-(SE(e)/_E|0)|0}var Ks=64,Hs=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?r=mo(u):(o&=s,o!==0&&(r=mo(o)))}else s=n&~i,s!==0?r=mo(s):o!==0&&(r=mo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),i=1<<n,r|=e[n],t&=~i;return r}function IE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-zt(o),u=1<<s,a=i[s];a===-1?(!(u&n)||u&r)&&(i[s]=IE(u,t)):a<=t&&(e.expiredLanes|=u),o&=~u}}function Ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sm(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ms(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function NE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Wf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var J=0;function um(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var am,Gf,lm,cm,fm,bc=!1,Qs=[],$n=null,Un=null,Vn=null,$o=new Map,Uo=new Map,An=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function np(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":$o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function so(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ws(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xE(e,t,n,r,i){switch(t){case"focusin":return $n=so($n,e,t,n,r,i),!0;case"dragenter":return Un=so(Un,e,t,n,r,i),!0;case"mouseover":return Vn=so(Vn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return $o.set(o,so($o.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Uo.set(o,so(Uo.get(o)||null,e,t,n,r,i)),!0}return!1}function hm(e){var t=dr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=em(n),t!==null){e.blockedOn=t,fm(e.priority,function(){lm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nc=r,n.target.dispatchEvent(r),Nc=null}else return t=ws(n),t!==null&&Gf(t),e.blockedOn=n,!1;t.shift()}return!0}function rp(e,t,n){vu(e)&&n.delete(t)}function DE(){bc=!1,$n!==null&&vu($n)&&($n=null),Un!==null&&vu(Un)&&(Un=null),Vn!==null&&vu(Vn)&&(Vn=null),$o.forEach(rp),Uo.forEach(rp)}function uo(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,DE)))}function Vo(e){function t(i){return uo(i,e)}if(0<Qs.length){uo(Qs[0],e);for(var n=1;n<Qs.length;n++){var r=Qs[n];r.blockedOn===e&&(r.blockedOn=null)}}for($n!==null&&uo($n,e),Un!==null&&uo(Un,e),Vn!==null&&uo(Vn,e),$o.forEach(t),Uo.forEach(t),n=0;n<An.length;n++)r=An[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<An.length&&(n=An[0],n.blockedOn===null);)hm(n),n.blockedOn===null&&An.shift()}var yi=Sn.ReactCurrentBatchConfig,Mu=!0;function AE(e,t,n,r){var i=J,o=yi.transition;yi.transition=null;try{J=1,Yf(e,t,n,r)}finally{J=i,yi.transition=o}}function bE(e,t,n,r){var i=J,o=yi.transition;yi.transition=null;try{J=4,Yf(e,t,n,r)}finally{J=i,yi.transition=o}}function Yf(e,t,n,r){if(Mu){var i=Pc(e,t,n,r);if(i===null)zl(e,t,r,$u,n),np(e,r);else if(xE(i,e,t,n,r))r.stopPropagation();else if(np(e,r),t&4&&-1<CE.indexOf(e)){for(;i!==null;){var o=ws(i);if(o!==null&&am(o),o=Pc(e,t,n,r),o===null&&zl(e,t,r,$u,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zl(e,t,r,null,n)}}var $u=null;function Pc(e,t,n,r){if($u=null,e=Hf(r),e=dr(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=em(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $u=e,null}function dm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gE()){case Qf:return 1;case im:return 4;case Lu:case wE:return 16;case om:return 536870912;default:return 16}default:return 16}}var Fn=null,Xf=null,yu=null;function pm(){if(yu)return yu;var e,t=Xf,n=t.length,r,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return yu=i.slice(e,1<r?1-r:void 0)}function mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function ip(){return!1}function Dt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ws:ip,this.isPropagationStopped=ip,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Dt(Hi),gs=fe({},Hi,{view:0,detail:0}),PE=Dt(gs),Rl,Ol,ao,Pa=fe({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(Rl=e.screenX-ao.screenX,Ol=e.screenY-ao.screenY):Ol=Rl=0,ao=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),op=Dt(Pa),RE=fe({},Pa,{dataTransfer:0}),OE=Dt(RE),LE=fe({},gs,{relatedTarget:0}),Ll=Dt(LE),FE=fe({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),ME=Dt(FE),$E=fe({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UE=Dt($E),VE=fe({},Hi,{data:0}),sp=Dt(VE),jE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BE[e])?!!t[e]:!1}function Zf(){return qE}var KE=fe({},gs,{key:function(e){if(e.key){var t=jE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(e){return e.type==="keypress"?mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HE=Dt(KE),QE=fe({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=Dt(QE),WE=fe({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),GE=Dt(WE),YE=fe({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=Dt(YE),JE=fe({},Pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZE=Dt(JE),eS=[9,13,27,32],eh=yn&&"CompositionEvent"in window,To=null;yn&&"documentMode"in document&&(To=document.documentMode);var tS=yn&&"TextEvent"in window&&!To,vm=yn&&(!eh||To&&8<To&&11>=To),ap=" ",lp=!1;function ym(e,t){switch(e){case"keyup":return eS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function nS(e,t){switch(e){case"compositionend":return mm(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function rS(e,t){if(ti)return e==="compositionend"||!eh&&ym(e,t)?(e=pm(),yu=Xf=Fn=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vm&&t.locale!=="ko"?null:t.data;default:return null}}var iS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iS[e.type]:t==="textarea"}function gm(e,t,n,r){Gy(r),t=Uu(t,"onChange"),0<t.length&&(n=new Jf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Io=null,jo=null;function oS(e){Dm(e,0)}function Ra(e){var t=ii(e);if(zy(t))return e}function sS(e,t){if(e==="change")return t}var wm=!1;if(yn){var Fl;if(yn){var Ml="oninput"in document;if(!Ml){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Ml=typeof fp.oninput=="function"}Fl=Ml}else Fl=!1;wm=Fl&&(!document.documentMode||9<document.documentMode)}function hp(){Io&&(Io.detachEvent("onpropertychange",Em),jo=Io=null)}function Em(e){if(e.propertyName==="value"&&Ra(jo)){var t=[];gm(t,jo,e,Hf(e)),Zy(oS,t)}}function uS(e,t,n){e==="focusin"?(hp(),Io=t,jo=n,Io.attachEvent("onpropertychange",Em)):e==="focusout"&&hp()}function aS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ra(jo)}function lS(e,t){if(e==="click")return Ra(t)}function cS(e,t){if(e==="input"||e==="change")return Ra(t)}function fS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:fS;function zo(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pc.call(t,i)||!Qt(e[i],t[i]))return!1}return!0}function dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,t){var n=dp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dp(n)}}function Sm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _m(){for(var e=window,t=Pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pu(e.document)}return t}function th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hS(e){var t=_m(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sm(n.ownerDocument.documentElement,n)){if(r!==null&&th(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=pp(n,o);var s=pp(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dS=yn&&"documentMode"in document&&11>=document.documentMode,ni=null,Rc=null,ko=null,Oc=!1;function vp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oc||ni==null||ni!==Pu(r)||(r=ni,"selectionStart"in r&&th(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&zo(ko,r)||(ko=r,r=Uu(Rc,"onSelect"),0<r.length&&(t=new Jf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ni)))}function Gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ri={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},$l={},Tm={};yn&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Oa(e){if($l[e])return $l[e];if(!ri[e])return e;var t=ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tm)return $l[e]=t[n];return e}var Im=Oa("animationend"),km=Oa("animationiteration"),Nm=Oa("animationstart"),Cm=Oa("transitionend"),xm=new Map,yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){xm.set(e,t),Mr(t,[e])}for(var Ul=0;Ul<yp.length;Ul++){var Vl=yp[Ul],pS=Vl.toLowerCase(),vS=Vl[0].toUpperCase()+Vl.slice(1);Jn(pS,"on"+vS)}Jn(Im,"onAnimationEnd");Jn(km,"onAnimationIteration");Jn(Nm,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(Cm,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function mp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pE(r,t,void 0,e),e.currentTarget=null}function Dm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],a=u.instance,l=u.currentTarget;if(u=u.listener,a!==o&&i.isPropagationStopped())break e;mp(i,u,l),o=a}else for(s=0;s<r.length;s++){if(u=r[s],a=u.instance,l=u.currentTarget,u=u.listener,a!==o&&i.isPropagationStopped())break e;mp(i,u,l),o=a}}}if(Ou)throw e=Dc,Ou=!1,Dc=null,e}function ne(e,t){var n=t[Uc];n===void 0&&(n=t[Uc]=new Set);var r=e+"__bubble";n.has(r)||(Am(t,e,2,!1),n.add(r))}function jl(e,t,n){var r=0;t&&(r|=4),Am(n,e,r,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Ys]){e[Ys]=!0,My.forEach(function(n){n!=="selectionchange"&&(yS.has(n)||jl(n,!1,e),jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,jl("selectionchange",!1,t))}}function Am(e,t,n,r){switch(dm(t)){case 1:var i=AE;break;case 4:i=bE;break;default:i=Yf}n=i.bind(null,t,n,e),i=void 0,!xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;u!==null;){if(s=dr(u),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}u=u.parentNode}}r=r.return}Zy(function(){var l=o,c=Hf(n),f=[];e:{var h=xm.get(e);if(h!==void 0){var d=Jf,y=e;switch(e){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":d=HE;break;case"focusin":y="focus",d=Ll;break;case"focusout":y="blur",d=Ll;break;case"beforeblur":case"afterblur":d=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=OE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=GE;break;case Im:case km:case Nm:d=ME;break;case Cm:d=XE;break;case"scroll":d=PE;break;case"wheel":d=ZE;break;case"copy":case"cut":case"paste":d=UE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=up}var g=(t&4)!==0,S=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var p=l,m;p!==null;){m=p;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,v!==null&&(E=Mo(p,v),E!=null&&g.push(qo(p,E,m)))),S)break;p=p.return}0<g.length&&(h=new d(h,y,null,n,c),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==Nc&&(y=n.relatedTarget||n.fromElement)&&(dr(y)||y[mn]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(y=n.relatedTarget||n.toElement,d=l,y=y?dr(y):null,y!==null&&(S=$r(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=l),d!==y)){if(g=op,E="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=up,E="onPointerLeave",v="onPointerEnter",p="pointer"),S=d==null?h:ii(d),m=y==null?h:ii(y),h=new g(E,p+"leave",d,n,c),h.target=S,h.relatedTarget=m,E=null,dr(c)===l&&(g=new g(v,p+"enter",y,n,c),g.target=m,g.relatedTarget=S,E=g),S=E,d&&y)t:{for(g=d,v=y,p=0,m=g;m;m=Qr(m))p++;for(m=0,E=v;E;E=Qr(E))m++;for(;0<p-m;)g=Qr(g),p--;for(;0<m-p;)v=Qr(v),m--;for(;p--;){if(g===v||v!==null&&g===v.alternate)break t;g=Qr(g),v=Qr(v)}g=null}else g=null;d!==null&&gp(f,h,d,g,!1),y!==null&&S!==null&&gp(f,S,y,g,!0)}}e:{if(h=l?ii(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var k=sS;else if(cp(h))if(wm)k=cS;else{k=aS;var x=uS}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=lS);if(k&&(k=k(e,l))){gm(f,k,n,c);break e}x&&x(e,h,l),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Sc(h,"number",h.value)}switch(x=l?ii(l):window,e){case"focusin":(cp(x)||x.contentEditable==="true")&&(ni=x,Rc=l,ko=null);break;case"focusout":ko=Rc=ni=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,vp(f,n,c);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":vp(f,n,c)}var A;if(eh)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ti?ym(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(vm&&n.locale!=="ko"&&(ti||F!=="onCompositionStart"?F==="onCompositionEnd"&&ti&&(A=pm()):(Fn=c,Xf="value"in Fn?Fn.value:Fn.textContent,ti=!0)),x=Uu(l,F),0<x.length&&(F=new sp(F,e,null,n,c),f.push({event:F,listeners:x}),A?F.data=A:(A=mm(n),A!==null&&(F.data=A)))),(A=tS?nS(e,n):rS(e,n))&&(l=Uu(l,"onBeforeInput"),0<l.length&&(c=new sp("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=A))}Dm(f,t)})}function qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mo(e,n),o!=null&&r.unshift(qo(e,o,i)),o=Mo(e,t),o!=null&&r.push(qo(e,o,i))),e=e.return}return r}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gp(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var u=n,a=u.alternate,l=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&l!==null&&(u=l,i?(a=Mo(n,o),a!=null&&s.unshift(qo(n,a,u))):i||(a=Mo(n,o),a!=null&&s.push(qo(n,a,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function wp(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(gS,"")}function Xs(e,t,n){if(t=wp(t),wp(e)!==t&&n)throw Error(C(425))}function Vu(){}var Lc=null,Fc=null;function Mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(SS)}:$c;function SS(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vo(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Qi,Ko="__reactProps$"+Qi,mn="__reactContainer$"+Qi,Uc="__reactEvents$"+Qi,_S="__reactListeners$"+Qi,TS="__reactHandles$"+Qi;function dr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sp(e);e!==null;){if(n=e[Jt])return n;e=Sp(e)}return t}e=n,n=e.parentNode}return null}function ws(e){return e=e[Jt]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function La(e){return e[Ko]||null}var Vc=[],oi=-1;function Zn(e){return{current:e}}function oe(e){0>oi||(e.current=Vc[oi],Vc[oi]=null,oi--)}function ee(e,t){oi++,Vc[oi]=e.current,e.current=t}var Gn={},We=Zn(Gn),ct=Zn(!1),kr=Gn;function Si(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ft(e){return e=e.childContextTypes,e!=null}function ju(){oe(ct),oe(We)}function _p(e,t,n){if(We.current!==Gn)throw Error(C(168));ee(We,t),ee(ct,n)}function bm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(C(108,uE(e)||"Unknown",i));return fe({},n,r)}function zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,kr=We.current,ee(We,e),ee(ct,ct.current),!0}function Tp(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=bm(e,t,kr),r.__reactInternalMemoizedMergedChildContext=e,oe(ct),oe(We),ee(We,e)):oe(ct),ee(ct,n)}var un=null,Fa=!1,ql=!1;function Pm(e){un===null?un=[e]:un.push(e)}function IS(e){Fa=!0,Pm(e)}function er(){if(!ql&&un!==null){ql=!0;var e=0,t=J;try{var n=un;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,Fa=!1}catch(i){throw un!==null&&(un=un.slice(e+1)),rm(Qf,er),i}finally{J=t,ql=!1}}return null}var si=[],ui=0,Bu=null,qu=0,At=[],bt=0,Nr=null,an=1,ln="";function lr(e,t){si[ui++]=qu,si[ui++]=Bu,Bu=e,qu=t}function Rm(e,t,n){At[bt++]=an,At[bt++]=ln,At[bt++]=Nr,Nr=e;var r=an;e=ln;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var o=32-zt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,an=1<<32-zt(t)+i|n<<i|r,ln=o+e}else an=1<<o|n<<i|r,ln=e}function nh(e){e.return!==null&&(lr(e,1),Rm(e,1,0))}function rh(e){for(;e===Bu;)Bu=si[--ui],si[ui]=null,qu=si[--ui],si[ui]=null;for(;e===Nr;)Nr=At[--bt],At[bt]=null,ln=At[--bt],At[bt]=null,an=At[--bt],At[bt]=null}var It=null,St=null,se=!1,Vt=null;function Om(e,t){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ip(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,St=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nr!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,St=null,!0):!1;default:return!1}}function jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zc(e){if(se){var t=St;if(t){var n=t;if(!Ip(e,t)){if(jc(e))throw Error(C(418));t=jn(n.nextSibling);var r=It;t&&Ip(e,t)?Om(r,n):(e.flags=e.flags&-4097|2,se=!1,It=e)}}else{if(jc(e))throw Error(C(418));e.flags=e.flags&-4097|2,se=!1,It=e}}}function kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function Js(e){if(e!==It)return!1;if(!se)return kp(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mc(e.type,e.memoizedProps)),t&&(t=St)){if(jc(e))throw Lm(),Error(C(418));for(;t;)Om(e,t),t=jn(t.nextSibling)}if(kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=It?jn(e.stateNode.nextSibling):null;return!0}function Lm(){for(var e=St;e;)e=jn(e.nextSibling)}function _i(){St=It=null,se=!1}function ih(e){Vt===null?Vt=[e]:Vt.push(e)}var kS=Sn.ReactCurrentBatchConfig;function lo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var u=i.refs;s===null?delete u[o]:u[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Np(e){var t=e._init;return t(e._payload)}function Fm(e){function t(v,p){if(e){var m=v.deletions;m===null?(v.deletions=[p],v.flags|=16):m.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=Kn(v,p),v.index=0,v.sibling=null,v}function o(v,p,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<p?(v.flags|=2,p):m):(v.flags|=2,p)):(v.flags|=1048576,p)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,p,m,E){return p===null||p.tag!==6?(p=Xl(m,v.mode,E),p.return=v,p):(p=i(p,m),p.return=v,p)}function a(v,p,m,E){var k=m.type;return k===ei?c(v,p,m.props.children,E,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cn&&Np(k)===p.type)?(E=i(p,m.props),E.ref=lo(v,p,m),E.return=v,E):(E=Iu(m.type,m.key,m.props,null,v.mode,E),E.ref=lo(v,p,m),E.return=v,E)}function l(v,p,m,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Jl(m,v.mode,E),p.return=v,p):(p=i(p,m.children||[]),p.return=v,p)}function c(v,p,m,E,k){return p===null||p.tag!==7?(p=Sr(m,v.mode,E,k),p.return=v,p):(p=i(p,m),p.return=v,p)}function f(v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Xl(""+p,v.mode,m),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zs:return m=Iu(p.type,p.key,p.props,null,v.mode,m),m.ref=lo(v,null,p),m.return=v,m;case Zr:return p=Jl(p,v.mode,m),p.return=v,p;case Cn:var E=p._init;return f(v,E(p._payload),m)}if(yo(p)||io(p))return p=Sr(p,v.mode,m,null),p.return=v,p;Zs(v,p)}return null}function h(v,p,m,E){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:u(v,p,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zs:return m.key===k?a(v,p,m,E):null;case Zr:return m.key===k?l(v,p,m,E):null;case Cn:return k=m._init,h(v,p,k(m._payload),E)}if(yo(m)||io(m))return k!==null?null:c(v,p,m,E,null);Zs(v,m)}return null}function d(v,p,m,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(m)||null,u(p,v,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zs:return v=v.get(E.key===null?m:E.key)||null,a(p,v,E,k);case Zr:return v=v.get(E.key===null?m:E.key)||null,l(p,v,E,k);case Cn:var x=E._init;return d(v,p,m,x(E._payload),k)}if(yo(E)||io(E))return v=v.get(m)||null,c(p,v,E,k,null);Zs(p,E)}return null}function y(v,p,m,E){for(var k=null,x=null,A=p,F=p=0,Z=null;A!==null&&F<m.length;F++){A.index>F?(Z=A,A=null):Z=A.sibling;var z=h(v,A,m[F],E);if(z===null){A===null&&(A=Z);break}e&&A&&z.alternate===null&&t(v,A),p=o(z,p,F),x===null?k=z:x.sibling=z,x=z,A=Z}if(F===m.length)return n(v,A),se&&lr(v,F),k;if(A===null){for(;F<m.length;F++)A=f(v,m[F],E),A!==null&&(p=o(A,p,F),x===null?k=A:x.sibling=A,x=A);return se&&lr(v,F),k}for(A=r(v,A);F<m.length;F++)Z=d(A,v,F,m[F],E),Z!==null&&(e&&Z.alternate!==null&&A.delete(Z.key===null?F:Z.key),p=o(Z,p,F),x===null?k=Z:x.sibling=Z,x=Z);return e&&A.forEach(function(st){return t(v,st)}),se&&lr(v,F),k}function g(v,p,m,E){var k=io(m);if(typeof k!="function")throw Error(C(150));if(m=k.call(m),m==null)throw Error(C(151));for(var x=k=null,A=p,F=p=0,Z=null,z=m.next();A!==null&&!z.done;F++,z=m.next()){A.index>F?(Z=A,A=null):Z=A.sibling;var st=h(v,A,z.value,E);if(st===null){A===null&&(A=Z);break}e&&A&&st.alternate===null&&t(v,A),p=o(st,p,F),x===null?k=st:x.sibling=st,x=st,A=Z}if(z.done)return n(v,A),se&&lr(v,F),k;if(A===null){for(;!z.done;F++,z=m.next())z=f(v,z.value,E),z!==null&&(p=o(z,p,F),x===null?k=z:x.sibling=z,x=z);return se&&lr(v,F),k}for(A=r(v,A);!z.done;F++,z=m.next())z=d(A,v,F,z.value,E),z!==null&&(e&&z.alternate!==null&&A.delete(z.key===null?F:z.key),p=o(z,p,F),x===null?k=z:x.sibling=z,x=z);return e&&A.forEach(function(no){return t(v,no)}),se&&lr(v,F),k}function S(v,p,m,E){if(typeof m=="object"&&m!==null&&m.type===ei&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zs:e:{for(var k=m.key,x=p;x!==null;){if(x.key===k){if(k=m.type,k===ei){if(x.tag===7){n(v,x.sibling),p=i(x,m.props.children),p.return=v,v=p;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cn&&Np(k)===x.type){n(v,x.sibling),p=i(x,m.props),p.ref=lo(v,x,m),p.return=v,v=p;break e}n(v,x);break}else t(v,x);x=x.sibling}m.type===ei?(p=Sr(m.props.children,v.mode,E,m.key),p.return=v,v=p):(E=Iu(m.type,m.key,m.props,null,v.mode,E),E.ref=lo(v,p,m),E.return=v,v=E)}return s(v);case Zr:e:{for(x=m.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(v,p.sibling),p=i(p,m.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Jl(m,v.mode,E),p.return=v,v=p}return s(v);case Cn:return x=m._init,S(v,p,x(m._payload),E)}if(yo(m))return y(v,p,m,E);if(io(m))return g(v,p,m,E);Zs(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,m),p.return=v,v=p):(n(v,p),p=Xl(m,v.mode,E),p.return=v,v=p),s(v)):n(v,p)}return S}var Ti=Fm(!0),Mm=Fm(!1),Ku=Zn(null),Hu=null,ai=null,oh=null;function sh(){oh=ai=Hu=null}function uh(e){var t=Ku.current;oe(Ku),e._currentValue=t}function Bc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mi(e,t){Hu=e,oh=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(oh!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(Hu===null)throw Error(C(308));ai=e,Hu.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var pr=null;function ah(e){pr===null?pr=[e]:pr.push(e)}function $m(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ah(t)):(n.next=i.next,i.next=n),t.interleaved=n,gn(e,r)}function gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xn=!1;function lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Um(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,gn(e,n)}return i=r.interleaved,i===null?(t.next=t,ah(r)):(t.next=i.next,i.next=t),r.interleaved=t,gn(e,n)}function gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wf(e,n)}}function Cp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qu(e,t,n,r){var i=e.updateQueue;xn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,l=a.next;a.next=null,s===null?o=l:s.next=l,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=l=a=null,u=o;do{var h=u.lane,d=u.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=e,g=u;switch(h=t,d=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(d,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(d,f,h):y,h==null)break e;f=fe({},f,h);break e;case 2:xn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(l=c=d,a=f):c=c.next=d,s|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);xr|=s,e.lanes=s,e.memoizedState=f}}function xp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var Es={},tn=Zn(Es),Ho=Zn(Es),Qo=Zn(Es);function vr(e){if(e===Es)throw Error(C(174));return e}function ch(e,t){switch(ee(Qo,t),ee(Ho,e),ee(tn,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tc(t,e)}oe(tn),ee(tn,t)}function Ii(){oe(tn),oe(Ho),oe(Qo)}function Vm(e){vr(Qo.current);var t=vr(tn.current),n=Tc(t,e.type);t!==n&&(ee(Ho,e),ee(tn,n))}function fh(e){Ho.current===e&&(oe(tn),oe(Ho))}var ae=Zn(0);function Wu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=[];function hh(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var wu=Sn.ReactCurrentDispatcher,Hl=Sn.ReactCurrentBatchConfig,Cr=0,ce=null,Te=null,De=null,Gu=!1,No=!1,Wo=0,NS=0;function Ve(){throw Error(C(321))}function dh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function ph(e,t,n,r,i,o){if(Cr=o,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wu.current=e===null||e.memoizedState===null?AS:bS,e=n(r,i),No){o=0;do{if(No=!1,Wo=0,25<=o)throw Error(C(301));o+=1,De=Te=null,t.updateQueue=null,wu.current=PS,e=n(r,i)}while(No)}if(wu.current=Yu,t=Te!==null&&Te.next!==null,Cr=0,De=Te=ce=null,Gu=!1,t)throw Error(C(300));return e}function vh(){var e=Wo!==0;return Wo=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ce.memoizedState=De=e:De=De.next=e,De}function Lt(){if(Te===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=De===null?ce.memoizedState:De.next;if(t!==null)De=t,Te=e;else{if(e===null)throw Error(C(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},De===null?ce.memoizedState=De=e:De=De.next=e}return De}function Go(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=Lt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=Te,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=s=null,a=null,l=o;do{var c=l.lane;if((Cr&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(u=a=f,s=r):a=a.next=f,ce.lanes|=c,xr|=c}l=l.next}while(l!==null&&l!==o);a===null?s=r:a.next=u,Qt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ce.lanes|=o,xr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wl(e){var t=Lt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Qt(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jm(){}function zm(e,t){var n=ce,r=Lt(),i=t(),o=!Qt(r.memoizedState,i);if(o&&(r.memoizedState=i,at=!0),r=r.queue,yh(Km.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Yo(9,qm.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(C(349));Cr&30||Bm(n,t,i)}return i}function Bm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qm(e,t,n,r){t.value=n,t.getSnapshot=r,Hm(t)&&Qm(e)}function Km(e,t,n){return n(function(){Hm(t)&&Qm(e)})}function Hm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function Qm(e){var t=gn(e,1);t!==null&&Bt(t,e,1,-1)}function Dp(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=DS.bind(null,ce,e),[t.memoizedState,e]}function Yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wm(){return Lt().memoizedState}function Eu(e,t,n,r){var i=Yt();ce.flags|=e,i.memoizedState=Yo(1|t,n,void 0,r===void 0?null:r)}function Ma(e,t,n,r){var i=Lt();r=r===void 0?null:r;var o=void 0;if(Te!==null){var s=Te.memoizedState;if(o=s.destroy,r!==null&&dh(r,s.deps)){i.memoizedState=Yo(t,n,o,r);return}}ce.flags|=e,i.memoizedState=Yo(1|t,n,o,r)}function Ap(e,t){return Eu(8390656,8,e,t)}function yh(e,t){return Ma(2048,8,e,t)}function Gm(e,t){return Ma(4,2,e,t)}function Ym(e,t){return Ma(4,4,e,t)}function Xm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jm(e,t,n){return n=n!=null?n.concat([e]):null,Ma(4,4,Xm.bind(null,t,e),n)}function mh(){}function Zm(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eg(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tg(e,t,n){return Cr&21?(Qt(n,t)||(n=sm(),ce.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function CS(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Hl.transition;Hl.transition={};try{e(!1),t()}finally{J=n,Hl.transition=r}}function ng(){return Lt().memoizedState}function xS(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rg(e))ig(t,n);else if(n=$m(e,t,n,r),n!==null){var i=rt();Bt(n,e,r,i),og(n,t,r)}}function DS(e,t,n){var r=qn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rg(e))ig(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,u=o(s,n);if(i.hasEagerState=!0,i.eagerState=u,Qt(u,s)){var a=t.interleaved;a===null?(i.next=i,ah(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=$m(e,t,i,r),n!==null&&(i=rt(),Bt(n,e,r,i),og(n,t,r))}}function rg(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function ig(e,t){No=Gu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function og(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wf(e,n)}}var Yu={readContext:Ot,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},AS={readContext:Ot,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Ap,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eu(4194308,4,Xm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eu(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xS.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:Dp,useDebugValue:mh,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=Dp(!1),t=e[0];return e=CS.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,i=Yt();if(se){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Ae===null)throw Error(C(349));Cr&30||Bm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ap(Km.bind(null,r,o,e),[e]),r.flags|=2048,Yo(9,qm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Ae.identifierPrefix;if(se){var n=ln,r=an;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=NS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bS={readContext:Ot,useCallback:Zm,useContext:Ot,useEffect:yh,useImperativeHandle:Jm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:eg,useReducer:Ql,useRef:Wm,useState:function(){return Ql(Go)},useDebugValue:mh,useDeferredValue:function(e){var t=Lt();return tg(t,Te.memoizedState,e)},useTransition:function(){var e=Ql(Go)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:zm,useId:ng,unstable_isNewReconciler:!1},PS={readContext:Ot,useCallback:Zm,useContext:Ot,useEffect:yh,useImperativeHandle:Jm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:eg,useReducer:Wl,useRef:Wm,useState:function(){return Wl(Go)},useDebugValue:mh,useDeferredValue:function(e){var t=Lt();return Te===null?t.memoizedState=e:tg(t,Te.memoizedState,e)},useTransition:function(){var e=Wl(Go)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:jm,useSyncExternalStore:zm,useId:ng,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $a={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),i=qn(e),o=hn(r,i);o.payload=t,n!=null&&(o.callback=n),t=zn(e,o,i),t!==null&&(Bt(t,e,i,r),gu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),i=qn(e),o=hn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zn(e,o,i),t!==null&&(Bt(t,e,i,r),gu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=qn(e),i=hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=zn(e,i,r),t!==null&&(Bt(t,e,r,n),gu(t,e,r))}};function bp(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!zo(n,r)||!zo(i,o):!0}function sg(e,t,n){var r=!1,i=Gn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(i=ft(t)?kr:We.current,r=t.contextTypes,o=(r=r!=null)?Si(e,i):Gn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$a,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$a.enqueueReplaceState(t,t.state,null)}function Kc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},lh(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ot(o):(o=ft(t)?kr:We.current,i.context=Si(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qc(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$a.enqueueReplaceState(i,i.state,null),Qu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ki(e,t){try{var n="",r=t;do n+=sE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Gl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RS=typeof WeakMap=="function"?WeakMap:Map;function ug(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ju||(Ju=!0,nf=r),Hc(e,t)},n}function ag(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Hc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Hc(e,t),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Rp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=QS.bind(null,e,t,n),t.then(e,e))}function Op(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var OS=Sn.ReactCurrentOwner,at=!1;function Xe(e,t,n,r){t.child=e===null?Mm(t,null,n,r):Ti(t,e.child,n,r)}function Fp(e,t,n,r,i){n=n.render;var o=t.ref;return mi(t,i),r=ph(e,t,n,r,o,i),n=vh(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(se&&n&&nh(t),t.flags|=1,Xe(e,t,r,i),t.child)}function Mp(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!kh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,lg(e,t,o,r,i)):(e=Iu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(s,r)&&e.ref===t.ref)return wn(e,t,i)}return t.flags|=1,e=Kn(o,r),e.ref=t.ref,e.return=t,t.child=e}function lg(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(zo(o,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,wn(e,t,i)}return Qc(e,t,n,r,i)}function cg(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(ci,mt),mt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(ci,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ee(ci,mt),mt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ee(ci,mt),mt|=r;return Xe(e,t,i,n),t.child}function fg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qc(e,t,n,r,i){var o=ft(n)?kr:We.current;return o=Si(t,o),mi(t,i),n=ph(e,t,n,r,o,i),r=vh(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(se&&r&&nh(t),t.flags|=1,Xe(e,t,n,i),t.child)}function $p(e,t,n,r,i){if(ft(n)){var o=!0;zu(t)}else o=!1;if(mi(t,i),t.stateNode===null)Su(e,t),sg(t,n,r),Kc(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var a=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Ot(l):(l=ft(n)?kr:We.current,l=Si(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||a!==l)&&Pp(t,s,r,l),xn=!1;var h=t.memoizedState;s.state=h,Qu(t,r,s,i),a=t.memoizedState,u!==r||h!==a||ct.current||xn?(typeof c=="function"&&(qc(t,n,c,r),a=t.memoizedState),(u=xn||bp(t,n,u,r,h,a,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=l,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Um(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:$t(t.type,u),s.props=l,f=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ot(a):(a=ft(n)?kr:We.current,a=Si(t,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==f||h!==a)&&Pp(t,s,r,a),xn=!1,h=t.memoizedState,s.state=h,Qu(t,r,s,i);var y=t.memoizedState;u!==f||h!==y||ct.current||xn?(typeof d=="function"&&(qc(t,n,d,r),y=t.memoizedState),(l=xn||bp(t,n,l,r,h,y,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=a,r=l):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wc(e,t,n,r,o,i)}function Wc(e,t,n,r,i,o){fg(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Tp(t,n,!1),wn(e,t,o);r=t.stateNode,OS.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ti(t,e.child,null,o),t.child=Ti(t,null,u,o)):Xe(e,t,u,o),t.memoizedState=r.state,i&&Tp(t,n,!0),t.child}function hg(e){var t=e.stateNode;t.pendingContext?_p(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_p(e,t.context,!1),ch(e,t.containerInfo)}function Up(e,t,n,r,i){return _i(),ih(i),t.flags|=256,Xe(e,t,n,r),t.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function Yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function dg(e,t,n){var r=t.pendingProps,i=ae.current,o=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(ae,i&1),e===null)return zc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ja(s,r,0,null),e=Sr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yc(n),t.memoizedState=Gc,e):gh(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return LS(e,t,s,r,u,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Kn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Kn(u,o):(o=Sr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Yc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Gc,r}return o=e.child,e=o.sibling,r=Kn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gh(e,t){return t=ja({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eu(e,t,n,r){return r!==null&&ih(r),Ti(t,e.child,null,n),e=gh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LS(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Gl(Error(C(422))),eu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ja({mode:"visible",children:r.children},i,0,null),o=Sr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ti(t,e.child,null,s),t.child.memoizedState=Yc(s),t.memoizedState=Gc,o);if(!(t.mode&1))return eu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(C(419)),r=Gl(o,r,void 0),eu(e,t,s,r)}if(u=(s&e.childLanes)!==0,at||u){if(r=Ae,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,gn(e,i),Bt(r,e,i,-1))}return Ih(),r=Gl(Error(C(421))),eu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,St=jn(i.nextSibling),It=t,se=!0,Vt=null,e!==null&&(At[bt++]=an,At[bt++]=ln,At[bt++]=Nr,an=e.id,ln=e.overflow,Nr=t),t=gh(t,r.children),t.flags|=4096,t)}function Vp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bc(e.return,t,n)}function Yl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pg(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Xe(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,n,t);else if(e.tag===19)Vp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ae,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Yl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Yl(t,!0,n,null,o);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Su(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function FS(e,t,n){switch(t.tag){case 3:hg(t),_i();break;case 5:Vm(t);break;case 1:ft(t.type)&&zu(t);break;case 4:ch(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ee(Ku,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?dg(e,t,n):(ee(ae,ae.current&1),e=wn(e,t,n),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,cg(e,t,n)}return wn(e,t,n)}var vg,Xc,yg,mg;vg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xc=function(){};yg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vr(tn.current);var o=null;switch(n){case"input":i=wc(e,i),r=wc(e,r),o=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),o=[];break;case"textarea":i=_c(e,i),r=_c(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vu)}Ic(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var u=i[l];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Lo.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var a=r[l];if(u=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&a!==u&&(a!=null||u!=null))if(l==="style")if(u){for(s in u)!u.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&u[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(l,n)),n=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(o=o||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&ne("scroll",e),o||u===a||(o=[])):(o=o||[]).push(l,a))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};mg=function(e,t,n,r){n!==r&&(t.flags|=4)};function co(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function MS(e,t,n){var r=t.pendingProps;switch(rh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return ft(t.type)&&ju(),je(t),null;case 3:return r=t.stateNode,Ii(),oe(ct),oe(We),hh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(sf(Vt),Vt=null))),Xc(e,t),je(t),null;case 5:fh(t);var i=vr(Qo.current);if(n=t.type,e!==null&&t.stateNode!=null)yg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return je(t),null}if(e=vr(tn.current),Js(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jt]=t,r[Ko]=o,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(i=0;i<go.length;i++)ne(go[i],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Gd(r,o),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ne("invalid",r);break;case"textarea":Xd(r,o),ne("invalid",r)}Ic(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Xs(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Xs(r.textContent,u,e),i=["children",""+u]):Lo.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ne("scroll",r)}switch(n){case"input":Bs(r),Yd(r,o,!0);break;case"textarea":Bs(r),Jd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ky(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Jt]=t,e[Ko]=r,vg(e,t,!1,!1),t.stateNode=e;e:{switch(s=kc(n,r),n){case"dialog":ne("cancel",e),ne("close",e),i=r;break;case"iframe":case"object":case"embed":ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<go.length;i++)ne(go[i],e);i=r;break;case"source":ne("error",e),i=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),i=r;break;case"details":ne("toggle",e),i=r;break;case"input":Gd(e,r),i=wc(e,r),ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Xd(e,r),i=_c(e,r),ne("invalid",e);break;default:i=r}Ic(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var a=u[o];o==="style"?Wy(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Hy(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Fo(e,a):typeof a=="number"&&Fo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ne("scroll",e):a!=null&&zf(e,o,a,s))}switch(n){case"input":Bs(e),Yd(e,r,!1);break;case"textarea":Bs(e),Jd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?di(e,!!r.multiple,o,!1):r.defaultValue!=null&&di(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)mg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=vr(Qo.current),vr(tn.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(o=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:Xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return je(t),null;case 13:if(oe(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&St!==null&&t.mode&1&&!(t.flags&128))Lm(),_i(),t.flags|=98560,o=!1;else if(o=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(C(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[Jt]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),o=!1}else Vt!==null&&(sf(Vt),Vt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?Ie===0&&(Ie=3):Ih())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Ii(),Xc(e,t),e===null&&Bo(t.stateNode.containerInfo),je(t),null;case 10:return uh(t.type._context),je(t),null;case 17:return ft(t.type)&&ju(),je(t),null;case 19:if(oe(ae),o=t.memoizedState,o===null)return je(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)co(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Wu(e),s!==null){for(t.flags|=128,co(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>Ni&&(t.flags|=128,r=!0,co(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!se)return je(t),null}else 2*ye()-o.renderingStartTime>Ni&&n!==1073741824&&(t.flags|=128,r=!0,co(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,n=ae.current,ee(ae,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return Th(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function $S(e,t){switch(rh(t),t.tag){case 1:return ft(t.type)&&ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ii(),oe(ct),oe(We),hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fh(t),null;case 13:if(oe(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(ae),null;case 4:return Ii(),null;case 10:return uh(t.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var tu=!1,Be=!1,US=typeof WeakSet=="function"?WeakSet:Set,P=null;function li(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Jc(e,t,n){try{n()}catch(r){he(e,t,r)}}var jp=!1;function VS(e,t){if(Lc=Mu,e=_m(),th(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,a=-1,l=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(u=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++c===r&&(a=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fc={focusedElem:e,selectionRange:n},Mu=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,S=y.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:$t(t.type,g),S);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(E){he(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=jp,jp=!1,y}function Co(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jc(t,n,o)}i=i.next}while(i!==r)}}function Ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gg(e){var t=e.alternate;t!==null&&(e.alternate=null,gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Ko],delete t[Uc],delete t[_S],delete t[TS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wg(e){return e.tag===5||e.tag===3||e.tag===4}function zp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ef(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vu));else if(r!==4&&(e=e.child,e!==null))for(ef(e,t,n),e=e.sibling;e!==null;)ef(e,t,n),e=e.sibling}function tf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tf(e,t,n),e=e.sibling;e!==null;)tf(e,t,n),e=e.sibling}var Pe=null,Ut=!1;function Tn(e,t,n){for(n=n.child;n!==null;)Eg(e,t,n),n=n.sibling}function Eg(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ba,n)}catch{}switch(n.tag){case 5:Be||li(n,t);case 6:var r=Pe,i=Ut;Pe=null,Tn(e,t,n),Pe=r,Ut=i,Pe!==null&&(Ut?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Ut?(e=Pe,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),Vo(e)):Bl(Pe,n.stateNode));break;case 4:r=Pe,i=Ut,Pe=n.stateNode.containerInfo,Ut=!0,Tn(e,t,n),Pe=r,Ut=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Jc(n,t,s),i=i.next}while(i!==r)}Tn(e,t,n);break;case 1:if(!Be&&(li(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){he(n,t,u)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Tn(e,t,n),Be=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function Bp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new US),t.forEach(function(r){var i=GS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Pe=u.stateNode,Ut=!1;break e;case 3:Pe=u.stateNode.containerInfo,Ut=!0;break e;case 4:Pe=u.stateNode.containerInfo,Ut=!0;break e}u=u.return}if(Pe===null)throw Error(C(160));Eg(o,s,i),Pe=null,Ut=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){he(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sg(t,e),t=t.sibling}function Sg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Gt(e),r&4){try{Co(3,e,e.return),Ua(3,e)}catch(g){he(e,e.return,g)}try{Co(5,e,e.return)}catch(g){he(e,e.return,g)}}break;case 1:Ft(t,e),Gt(e),r&512&&n!==null&&li(n,n.return);break;case 5:if(Ft(t,e),Gt(e),r&512&&n!==null&&li(n,n.return),e.flags&32){var i=e.stateNode;try{Fo(i,"")}catch(g){he(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&By(i,o),kc(u,s);var l=kc(u,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?Wy(i,f):c==="dangerouslySetInnerHTML"?Hy(i,f):c==="children"?Fo(i,f):zf(i,c,f,l)}switch(u){case"input":Ec(i,o);break;case"textarea":qy(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?di(i,!!o.multiple,d,!1):h!==!!o.multiple&&(o.defaultValue!=null?di(i,!!o.multiple,o.defaultValue,!0):di(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ko]=o}catch(g){he(e,e.return,g)}}break;case 6:if(Ft(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(C(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){he(e,e.return,g)}}break;case 3:if(Ft(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(g){he(e,e.return,g)}break;case 4:Ft(t,e),Gt(e);break;case 13:Ft(t,e),Gt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sh=ye())),r&4&&Bp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(l=Be)||c,Ft(t,e),Be=l):Ft(t,e),Gt(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(P=e,c=e.child;c!==null;){for(f=P=c;P!==null;){switch(h=P,d=h.child,h.tag){case 0:case 11:case 14:case 15:Co(4,h,h.return);break;case 1:li(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){he(r,n,g)}}break;case 5:li(h,h.return);break;case 22:if(h.memoizedState!==null){Kp(f);continue}}d!==null?(d.return=h,P=d):Kp(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Qy("display",s))}catch(g){he(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){he(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ft(t,e),Gt(e),r&4&&Bp(e);break;case 21:break;default:Ft(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wg(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fo(i,""),r.flags&=-33);var o=zp(e);tf(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=zp(e);ef(e,u,s);break;default:throw Error(C(161))}}catch(a){he(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jS(e,t,n){P=e,_g(e)}function _g(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var i=P,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||tu;if(!s){var u=i.alternate,a=u!==null&&u.memoizedState!==null||Be;u=tu;var l=Be;if(tu=s,(Be=a)&&!l)for(P=i;P!==null;)s=P,a=s.child,s.tag===22&&s.memoizedState!==null?Hp(i):a!==null?(a.return=s,P=a):Hp(i);for(;o!==null;)P=o,_g(o),o=o.sibling;P=i,tu=u,Be=l}qp(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,P=o):qp(e)}}function qp(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||Ua(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&xp(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xp(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Be||t.flags&512&&Zc(t)}catch(h){he(t,t.return,h)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Kp(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Hp(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ua(4,t)}catch(a){he(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){he(t,i,a)}}var o=t.return;try{Zc(t)}catch(a){he(t,o,a)}break;case 5:var s=t.return;try{Zc(t)}catch(a){he(t,s,a)}}}catch(a){he(t,t.return,a)}if(t===e){P=null;break}var u=t.sibling;if(u!==null){u.return=t.return,P=u;break}P=t.return}}var zS=Math.ceil,Xu=Sn.ReactCurrentDispatcher,wh=Sn.ReactCurrentOwner,Rt=Sn.ReactCurrentBatchConfig,W=0,Ae=null,we=null,Le=0,mt=0,ci=Zn(0),Ie=0,Xo=null,xr=0,Va=0,Eh=0,xo=null,ut=null,Sh=0,Ni=1/0,sn=null,Ju=!1,nf=null,Bn=null,nu=!1,Mn=null,Zu=0,Do=0,rf=null,_u=-1,Tu=0;function rt(){return W&6?ye():_u!==-1?_u:_u=ye()}function qn(e){return e.mode&1?W&2&&Le!==0?Le&-Le:kS.transition!==null?(Tu===0&&(Tu=sm()),Tu):(e=J,e!==0||(e=window.event,e=e===void 0?16:dm(e.type)),e):1}function Bt(e,t,n,r){if(50<Do)throw Do=0,rf=null,Error(C(185));ms(e,n,r),(!(W&2)||e!==Ae)&&(e===Ae&&(!(W&2)&&(Va|=n),Ie===4&&bn(e,Le)),ht(e,r),n===1&&W===0&&!(t.mode&1)&&(Ni=ye()+500,Fa&&er()))}function ht(e,t){var n=e.callbackNode;kE(e,t);var r=Fu(e,e===Ae?Le:0);if(r===0)n!==null&&tp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tp(n),t===1)e.tag===0?IS(Qp.bind(null,e)):Pm(Qp.bind(null,e)),ES(function(){!(W&6)&&er()}),n=null;else{switch(um(r)){case 1:n=Qf;break;case 4:n=im;break;case 16:n=Lu;break;case 536870912:n=om;break;default:n=Lu}n=Ag(n,Tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tg(e,t){if(_u=-1,Tu=0,W&6)throw Error(C(327));var n=e.callbackNode;if(gi()&&e.callbackNode!==n)return null;var r=Fu(e,e===Ae?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ea(e,r);else{t=r;var i=W;W|=2;var o=kg();(Ae!==e||Le!==t)&&(sn=null,Ni=ye()+500,Er(e,t));do try{KS();break}catch(u){Ig(e,u)}while(!0);sh(),Xu.current=o,W=i,we!==null?t=0:(Ae=null,Le=0,t=Ie)}if(t!==0){if(t===2&&(i=Ac(e),i!==0&&(r=i,t=of(e,i))),t===1)throw n=Xo,Er(e,0),bn(e,r),ht(e,ye()),n;if(t===6)bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!BS(i)&&(t=ea(e,r),t===2&&(o=Ac(e),o!==0&&(r=o,t=of(e,o))),t===1))throw n=Xo,Er(e,0),bn(e,r),ht(e,ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:cr(e,ut,sn);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=Sh+500-ye(),10<t)){if(Fu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$c(cr.bind(null,e,ut,sn),t);break}cr(e,ut,sn);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-zt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zS(r/1960))-r,10<r){e.timeoutHandle=$c(cr.bind(null,e,ut,sn),r);break}cr(e,ut,sn);break;case 5:cr(e,ut,sn);break;default:throw Error(C(329))}}}return ht(e,ye()),e.callbackNode===n?Tg.bind(null,e):null}function of(e,t){var n=xo;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=ea(e,t),e!==2&&(t=ut,ut=n,t!==null&&sf(t)),e}function sf(e){ut===null?ut=e:ut.push.apply(ut,e)}function BS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Eh,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Qp(e){if(W&6)throw Error(C(327));gi();var t=Fu(e,0);if(!(t&1))return ht(e,ye()),null;var n=ea(e,t);if(e.tag!==0&&n===2){var r=Ac(e);r!==0&&(t=r,n=of(e,r))}if(n===1)throw n=Xo,Er(e,0),bn(e,t),ht(e,ye()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,ut,sn),ht(e,ye()),null}function _h(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Ni=ye()+500,Fa&&er())}}function Dr(e){Mn!==null&&Mn.tag===0&&!(W&6)&&gi();var t=W;W|=1;var n=Rt.transition,r=J;try{if(Rt.transition=null,J=1,e)return e()}finally{J=r,Rt.transition=n,W=t,!(W&6)&&er()}}function Th(){mt=ci.current,oe(ci)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wS(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(rh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ju();break;case 3:Ii(),oe(ct),oe(We),hh();break;case 5:fh(r);break;case 4:Ii();break;case 13:oe(ae);break;case 19:oe(ae);break;case 10:uh(r.type._context);break;case 22:case 23:Th()}n=n.return}if(Ae=e,we=e=Kn(e.current,null),Le=mt=t,Ie=0,Xo=null,Eh=Va=xr=0,ut=xo=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}pr=null}return e}function Ig(e,t){do{var n=we;try{if(sh(),wu.current=Yu,Gu){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gu=!1}if(Cr=0,De=Te=ce=null,No=!1,Wo=0,wh.current=null,n===null||n.return===null){Ie=1,Xo=t,we=null;break}e:{var o=e,s=n.return,u=n,a=t;if(t=Le,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,c=u,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Op(s);if(d!==null){d.flags&=-257,Lp(d,s,u,o,t),d.mode&1&&Rp(o,l,t),t=d,a=l;var y=t.updateQueue;if(y===null){var g=new Set;g.add(a),t.updateQueue=g}else y.add(a);break e}else{if(!(t&1)){Rp(o,l,t),Ih();break e}a=Error(C(426))}}else if(se&&u.mode&1){var S=Op(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Lp(S,s,u,o,t),ih(ki(a,u));break e}}o=a=ki(a,u),Ie!==4&&(Ie=2),xo===null?xo=[o]:xo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=ug(o,a,t);Cp(o,v);break e;case 1:u=a;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bn===null||!Bn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=ag(o,u,t);Cp(o,E);break e}}o=o.return}while(o!==null)}Cg(n)}catch(k){t=k,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function kg(){var e=Xu.current;return Xu.current=Yu,e===null?Yu:e}function Ih(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ae===null||!(xr&268435455)&&!(Va&268435455)||bn(Ae,Le)}function ea(e,t){var n=W;W|=2;var r=kg();(Ae!==e||Le!==t)&&(sn=null,Er(e,t));do try{qS();break}catch(i){Ig(e,i)}while(!0);if(sh(),W=n,Xu.current=r,we!==null)throw Error(C(261));return Ae=null,Le=0,Ie}function qS(){for(;we!==null;)Ng(we)}function KS(){for(;we!==null&&!yE();)Ng(we)}function Ng(e){var t=Dg(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Cg(e):we=t,wh.current=null}function Cg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$S(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,we=null;return}}else if(n=MS(n,t,mt),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ie===0&&(Ie=5)}function cr(e,t,n){var r=J,i=Rt.transition;try{Rt.transition=null,J=1,HS(e,t,n,r)}finally{Rt.transition=i,J=r}return null}function HS(e,t,n,r){do gi();while(Mn!==null);if(W&6)throw Error(C(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(NE(e,o),e===Ae&&(we=Ae=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,Ag(Lu,function(){return gi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var s=J;J=1;var u=W;W|=4,wh.current=null,VS(e,n),Sg(n,e),hS(Fc),Mu=!!Lc,Fc=Lc=null,e.current=n,jS(n),mE(),W=u,J=s,Rt.transition=o}else e.current=n;if(nu&&(nu=!1,Mn=e,Zu=i),o=e.pendingLanes,o===0&&(Bn=null),EE(n.stateNode),ht(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ju)throw Ju=!1,e=nf,nf=null,e;return Zu&1&&e.tag!==0&&gi(),o=e.pendingLanes,o&1?e===rf?Do++:(Do=0,rf=e):Do=0,er(),null}function gi(){if(Mn!==null){var e=um(Zu),t=Rt.transition,n=J;try{if(Rt.transition=null,J=16>e?16:e,Mn===null)var r=!1;else{if(e=Mn,Mn=null,Zu=0,W&6)throw Error(C(331));var i=W;for(W|=4,P=e.current;P!==null;){var o=P,s=o.child;if(P.flags&16){var u=o.deletions;if(u!==null){for(var a=0;a<u.length;a++){var l=u[a];for(P=l;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:Co(8,c,o)}var f=c.child;if(f!==null)f.return=c,P=f;else for(;P!==null;){c=P;var h=c.sibling,d=c.return;if(gg(c),c===l){P=null;break}if(h!==null){h.return=d,P=h;break}P=d}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}P=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,P=s;else e:for(;P!==null;){if(o=P,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Co(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,P=v;break e}P=o.return}}var p=e.current;for(P=p;P!==null;){s=P;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,P=m;else e:for(s=p;P!==null;){if(u=P,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ua(9,u)}}catch(k){he(u,u.return,k)}if(u===s){P=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,P=E;break e}P=u.return}}if(W=i,er(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ba,e)}catch{}r=!0}return r}finally{J=n,Rt.transition=t}}return!1}function Wp(e,t,n){t=ki(n,t),t=ug(e,t,1),e=zn(e,t,1),t=rt(),e!==null&&(ms(e,1,t),ht(e,t))}function he(e,t,n){if(e.tag===3)Wp(e,e,n);else for(;t!==null;){if(t.tag===3){Wp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=ki(n,e),e=ag(t,e,1),t=zn(t,e,1),e=rt(),t!==null&&(ms(t,1,e),ht(t,e));break}}t=t.return}}function QS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Le&n)===n&&(Ie===4||Ie===3&&(Le&130023424)===Le&&500>ye()-Sh?Er(e,0):Eh|=n),ht(e,t)}function xg(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var n=rt();e=gn(e,t),e!==null&&(ms(e,t,n),ht(e,n))}function WS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xg(e,n)}function GS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),xg(e,n)}var Dg;Dg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,FS(e,t,n);at=!!(e.flags&131072)}else at=!1,se&&t.flags&1048576&&Rm(t,qu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Su(e,t),e=t.pendingProps;var i=Si(t,We.current);mi(t,n),i=ph(null,t,r,e,i,n);var o=vh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(o=!0,zu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lh(t),i.updater=$a,t.stateNode=i,i._reactInternals=t,Kc(t,r,e,n),t=Wc(null,t,r,!0,o,n)):(t.tag=0,se&&o&&nh(t),Xe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Su(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=XS(r),e=$t(r,e),i){case 0:t=Qc(null,t,r,e,n);break e;case 1:t=$p(null,t,r,e,n);break e;case 11:t=Fp(null,t,r,e,n);break e;case 14:t=Mp(null,t,r,$t(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Qc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),$p(e,t,r,i,n);case 3:e:{if(hg(t),e===null)throw Error(C(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Um(e,t),Qu(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ki(Error(C(423)),t),t=Up(e,t,r,n,i);break e}else if(r!==i){i=ki(Error(C(424)),t),t=Up(e,t,r,n,i);break e}else for(St=jn(t.stateNode.containerInfo.firstChild),It=t,se=!0,Vt=null,n=Mm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_i(),r===i){t=wn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Vm(t),e===null&&zc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Mc(r,i)?s=null:o!==null&&Mc(r,o)&&(t.flags|=32),fg(e,t),Xe(e,t,s,n),t.child;case 6:return e===null&&zc(t),null;case 13:return dg(e,t,n);case 4:return ch(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ti(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Fp(e,t,r,i,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ee(Ku,r._currentValue),r._currentValue=s,o!==null)if(Qt(o.value,s)){if(o.children===i.children&&!ct.current){t=wn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=hn(-1,n&-n),a.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bc(o.return,n,t),u.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(C(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Bc(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,mi(t,n),i=Ot(i),r=r(i),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,i=$t(r,t.pendingProps),i=$t(r.type,i),Mp(e,t,r,i,n);case 15:return lg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Su(e,t),t.tag=1,ft(r)?(e=!0,zu(t)):e=!1,mi(t,n),sg(t,r,i),Kc(t,r,i,n),Wc(null,t,r,!0,e,n);case 19:return pg(e,t,n);case 22:return cg(e,t,n)}throw Error(C(156,t.tag))};function Ag(e,t){return rm(e,t)}function YS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,n,r){return new YS(e,t,n,r)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XS(e){if(typeof e=="function")return kh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qf)return 11;if(e===Kf)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=Pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")kh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ei:return Sr(n.children,i,o,t);case Bf:s=8,i|=8;break;case vc:return e=Pt(12,n,t,i|2),e.elementType=vc,e.lanes=o,e;case yc:return e=Pt(13,n,t,i),e.elementType=yc,e.lanes=o,e;case mc:return e=Pt(19,n,t,i),e.elementType=mc,e.lanes=o,e;case Vy:return ja(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $y:s=10;break e;case Uy:s=9;break e;case qf:s=11;break e;case Kf:s=14;break e;case Cn:s=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Pt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Sr(e,t,n,r){return e=Pt(7,e,r,t),e.lanes=n,e}function ja(e,t,n,r){return e=Pt(22,e,r,t),e.elementType=Vy,e.lanes=n,e.stateNode={isHidden:!1},e}function Xl(e,t,n){return e=Pt(6,e,null,t),e.lanes=n,e}function Jl(e,t,n){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nh(e,t,n,r,i,o,s,u,a){return e=new JS(e,t,n,u,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Pt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(o),e}function ZS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bg(e){if(!e)return Gn;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(ft(n))return bm(e,n,t)}return t}function Pg(e,t,n,r,i,o,s,u,a){return e=Nh(n,r,!0,e,i,o,s,u,a),e.context=bg(null),n=e.current,r=rt(),i=qn(n),o=hn(r,i),o.callback=t??null,zn(n,o,i),e.current.lanes=i,ms(e,i,r),ht(e,r),e}function za(e,t,n,r){var i=t.current,o=rt(),s=qn(i);return n=bg(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zn(i,t,s),e!==null&&(Bt(e,i,s,o),gu(e,i,s)),s}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ch(e,t){Gp(e,t),(e=e.alternate)&&Gp(e,t)}function e_(){return null}var Rg=typeof reportError=="function"?reportError:function(e){console.error(e)};function xh(e){this._internalRoot=e}Ba.prototype.render=xh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));za(e,t,null,null)};Ba.prototype.unmount=xh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){za(null,e,null,null)}),t[mn]=null}};function Ba(e){this._internalRoot=e}Ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=cm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<An.length&&t!==0&&t<An[n].priority;n++);An.splice(n,0,e),n===0&&hm(e)}};function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function t_(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=ta(s);o.call(l)}}var s=Pg(t,r,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=s,e[mn]=s.current,Bo(e.nodeType===8?e.parentNode:e),Dr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var l=ta(a);u.call(l)}}var a=Nh(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=a,e[mn]=a.current,Bo(e.nodeType===8?e.parentNode:e),Dr(function(){za(t,a,n,r)}),a}function Ka(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var u=i;i=function(){var a=ta(s);u.call(a)}}za(t,s,e,i)}else s=t_(n,t,e,i,r);return ta(s)}am=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mo(t.pendingLanes);n!==0&&(Wf(t,n|1),ht(t,ye()),!(W&6)&&(Ni=ye()+500,er()))}break;case 13:Dr(function(){var r=gn(e,1);if(r!==null){var i=rt();Bt(r,e,1,i)}}),Ch(e,1)}};Gf=function(e){if(e.tag===13){var t=gn(e,134217728);if(t!==null){var n=rt();Bt(t,e,134217728,n)}Ch(e,134217728)}};lm=function(e){if(e.tag===13){var t=qn(e),n=gn(e,t);if(n!==null){var r=rt();Bt(n,e,t,r)}Ch(e,t)}};cm=function(){return J};fm=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Cc=function(e,t,n){switch(t){case"input":if(Ec(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=La(r);if(!i)throw Error(C(90));zy(r),Ec(r,i)}}}break;case"textarea":qy(e,n);break;case"select":t=n.value,t!=null&&di(e,!!n.multiple,t,!1)}};Xy=_h;Jy=Dr;var n_={usingClientEntryPoint:!1,Events:[ws,ii,La,Gy,Yy,_h]},fo={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r_={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tm(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||e_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ba=ru.inject(r_),en=ru}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n_;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(t))throw Error(C(200));return ZS(e,t,null,n)};xt.createRoot=function(e,t){if(!Dh(e))throw Error(C(299));var n=!1,r="",i=Rg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nh(e,1,!1,null,null,n,!1,r,i),e[mn]=t.current,Bo(e.nodeType===8?e.parentNode:e),new xh(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=tm(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Dr(e)};xt.hydrate=function(e,t,n){if(!qa(t))throw Error(C(200));return Ka(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Dh(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Rg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Pg(t,null,e,1,n??null,i,!1,o,s),e[mn]=t.current,Bo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ba(t)};xt.render=function(e,t,n){if(!qa(t))throw Error(C(200));return Ka(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!qa(e))throw Error(C(40));return e._reactRootContainer?(Dr(function(){Ka(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};xt.unstable_batchedUpdates=_h;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qa(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ka(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Og)}catch(e){console.error(e)}}Og(),Oy.exports=xt;var i_=Oy.exports,Lg,Xp=i_;Lg=Xp.createRoot,Xp.hydrateRoot;var uf=function(e,t){return uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uf(e,t)};function $(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Jo=function(){return Jo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Jo.apply(this,arguments)};function T(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(c){try{l(r.next(c))}catch(f){s(f)}}function a(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?o(c.value):i(c.value).then(u,a)}l((r=r.apply(e,t||[])).next())})}function _(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Zl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iu(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function pe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fg=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},o_=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],u=e[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},s_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,u=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=o>>2,f=(o&3)<<4|u>>4,h=(u&15)<<2|l>>6,d=l&63;a||(d=64,s||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fg(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):o_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,u=s?n[e.charAt(i)]:0;++i;var a=i<e.length,l=a?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,o==null||u==null||l==null||f==null)throw Error();var h=o<<2|u>>4;if(r.push(h),l!==64){var d=u<<4&240|l>>2;if(r.push(d),f!==64){var y=l<<6&192|f;r.push(y)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u_=function(e){var t=Fg(e);return s_.encodeByteArray(t,!0)},Jp=function(e){return u_(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(e){return Zo(void 0,e)}function Zo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!l_(r)||(e[r]=Zo(e[r],t[r]));return e}function l_(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c_=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Jo({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[Jp(JSON.stringify(n)),Jp(JSON.stringify(s)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function Mg(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d_(){return typeof self=="object"&&self.self===self}function p_(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function v_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y_(){return Ar().indexOf("Electron/")>=0}function m_(){var e=Ar();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function g_(){return Ar().indexOf("MSAppHost/")>=0}function w_(){return!Mg()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E_="FirebaseError",S_=function(e){$(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=E_,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ah.prototype.create),o}return t}(Error),Ah=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],u=s?__(s,i):"Error",a=this.serviceName+": "+u+" ("+o+").",l=new S_(o,a,i);return l},e}();function __(e,t){return e.replace(T_,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var T_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I_(e,t){var n=new k_(e,t);return n.subscribe.bind(n)}var k_=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N_(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=ec),o.error===void 0&&(o.error=ec),o.complete===void 0&&(o.complete=ec);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function N_(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function ec(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e){return e&&e._delegate?e._delegate:e}var Ha=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C_=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new c_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(D_(t))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}try{for(var i=Zl(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=iu(o.value,2),u=s[0],a=s[1],l=this.normalizeInstanceIdentifier(u);try{var c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=fr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return T(this,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(pe(pe([],iu(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),iu(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=fr),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=fr),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var a=Zl(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var c=iu(l.value,2),f=c[0],h=c[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(u)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return u},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=Zl(o),u=s.next();!u.done;u=s.next()){var a=u.value;try{a(t,n)}catch{}}}catch(l){r={error:l}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:x_(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=fr),this.component?this.component.multipleInstances?t:fr:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function x_(e){return e===fr?void 0:e}function D_(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A_=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new C_(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Mt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar,bh=[],G;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(G||(G={}));var $g={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},b_=G.INFO,P_=(ar={},ar[G.DEBUG]="log",ar[G.VERBOSE]="log",ar[G.INFO]="info",ar[G.WARN]="warn",ar[G.ERROR]="error",ar),R_=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=P_[t];if(o)console[o].apply(console,Mt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ug=function(){function e(t){this.name=t,this._logLevel=b_,this._logHandler=R_,this._userLogHandler=null,bh.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in G))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?$g[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Mt([this,G.DEBUG],t)),this._logHandler.apply(this,Mt([this,G.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Mt([this,G.VERBOSE],t)),this._logHandler.apply(this,Mt([this,G.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Mt([this,G.INFO],t)),this._logHandler.apply(this,Mt([this,G.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Mt([this,G.WARN],t)),this._logHandler.apply(this,Mt([this,G.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Mt([this,G.ERROR],t)),this._logHandler.apply(this,Mt([this,G.ERROR],t))},e}();function O_(e){bh.forEach(function(t){t.setLogLevel(e)})}function L_(e,t){for(var n=function(s){var u=null;t&&t.level&&(u=$g[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(a,l){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var h=c.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");l>=(u??a.logLevel)&&e({level:G[l].toLowerCase(),message:h,args:c,type:a.name})}},r=0,i=bh;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,F_=(In={},In["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",In["bad-app-name"]="Illegal App name: '{$appName}",In["duplicate-app"]="Firebase App named '{$appName}' already exists",In["app-deleted"]="Firebase App named '{$appName}' already deleted",In["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",In["invalid-log-argument"]="First argument to `onLog` must be null or a function.",In),Yr=new Ah("app","Firebase",F_),Vg="@firebase/app",M_="0.6.30",$_="@firebase/analytics",U_="@firebase/app-check",V_="@firebase/auth",j_="@firebase/database",z_="@firebase/functions",B_="@firebase/installations",q_="@firebase/messaging",K_="@firebase/performance",H_="@firebase/remote-config",Q_="@firebase/storage",W_="@firebase/firestore",G_="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,na="[DEFAULT]",Y_=(ze={},ze[Vg]="fire-core",ze[$_]="fire-analytics",ze[U_]="fire-app-check",ze[V_]="fire-auth",ze[j_]="fire-rtdb",ze[z_]="fire-fn",ze[B_]="fire-iid",ze[q_]="fire-fcm",ze[K_]="fire-perf",ze[H_]="fire-rc",ze[Q_]="fire-gcs",ze[W_]="fire-fst",ze["fire-js"]="fire-js",ze[G_]="fire-js-all",ze);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci=new Ug("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=a_(t),this.container=new A_(n.name),this._addComponent(new Ha("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=na),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=na),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ci.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Yr.create("app-deleted",{appName:this.name_})},e}();ku.prototype.name&&ku.prototype.options||ku.prototype.delete||console.log("dc");var X_="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:O_,onLog:c,apps:null,SDK_VERSION:X_,INTERNAL:{registerComponent:a,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(h){delete t[h]}function o(h){if(h=h||na,!Zp(t,h))throw Yr.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var y=d;d={name:y}}var g=d;g.name===void 0&&(g.name=na);var S=g.name;if(typeof S!="string"||!S)throw Yr.create("bad-app-name",{appName:String(S)});if(Zp(t,S))throw Yr.create("duplicate-app",{appName:S});var v=new e(h,g,r);return t[S]=v,v}function u(){return Object.keys(t).map(function(h){return t[h]})}function a(h){var d=h.name;if(n.has(d))return Ci.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var y=function(p){if(p===void 0&&(p=o()),typeof p[d]!="function")throw Yr.create("invalid-app-argument",{appName:d});return p[d]()};h.serviceProps!==void 0&&Zo(y,h.serviceProps),r[d]=y,e.prototype[d]=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var E=this._getService.bind(this,d);return E.apply(this,h.multipleInstances?p:[])}}for(var g=0,S=Object.keys(t);g<S.length;g++){var v=S[g];t[v]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function l(h,d,y){var g,S=(g=Y_[h])!==null&&g!==void 0?g:h;y&&(S+="-"+y);var v=S.match(/\s|\//),p=d.match(/\s|\//);if(v||p){var m=['Unable to register library "'+S+'" with version "'+d+'":'];v&&m.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),v&&p&&m.push("and"),p&&m.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),Ci.warn(m.join(" "));return}a(new Ha(S+"-version",function(){return{library:S,version:d}},"VERSION"))}function c(h,d){if(h!==null&&typeof h!="function")throw Yr.create("invalid-log-argument");L_(h,d)}function f(h,d){if(d==="serverAuth")return null;var y=d;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){var e=J_(ku);e.INTERNAL=Jo(Jo({},e.INTERNAL),{createFirebaseNamespace:jg,extendNamespace:t,createSubscribe:I_,ErrorFactory:Ah,deepExtend:Zo});function t(n){Zo(e,n)}return e}var Ph=jg();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z_=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(eT(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function eT(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(e,t){e.INTERNAL.registerComponent(new Ha("platform-logger",function(n){return new Z_(n)},"PRIVATE")),e.registerVersion(Vg,M_,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(d_()&&self.firebase!==void 0){Ci.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var ev=self.firebase.SDK_VERSION;ev&&ev.indexOf("LITE")>=0&&Ci.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var nT=Ph.initializeApp;Ph.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Mg()&&Ci.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),nT.apply(void 0,e)};var Ss=Ph;tT(Ss);var rT="firebase",zg="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss.registerVersion(rT,zg,"app");Ss.SDK_VERSION=zg;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var af=function(e,t){return af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},af(e,t)};function iT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");af(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Bg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var oT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R,Rh=Rh||{},V=oT||self;function ra(){}function lf(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Qa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function sT(e){return Object.prototype.hasOwnProperty.call(e,tc)&&e[tc]||(e[tc]=++uT)}var tc="closure_uid_"+(1e9*Math.random()>>>0),uT=0;function aT(e,t,n){return e.call.apply(e.bind,arguments)}function lT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Fe(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fe=aT:Fe=lT,Fe.apply(null,arguments)}function ou(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ue(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),u=2;u<arguments.length;u++)s[u-2]=arguments[u];return t.prototype[i].apply(r,s)}}function tr(){this.s=this.s,this.o=this.o}var cT=0;tr.prototype.s=!1;tr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),cT!=0)&&sT(this)};tr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kg=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function fT(e){e:{for(var t=rI,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function tv(e){return Array.prototype.concat.apply([],arguments)}function Oh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ia(e){return/^[\s\xa0]*$/.test(e)}var nv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ze(e,t){return e.indexOf(t)!=-1}function nc(e,t){return e<t?-1:e>t?1:0}var et;e:{var rv=V.navigator;if(rv){var iv=rv.userAgent;if(iv){et=iv;break e}}et=""}function Lh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Hg(e){var t={};for(var n in e)t[n]=e[n];return t}var ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qg(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<ov.length;o++)n=ov[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fh(e){return Fh[" "](e),e}Fh[" "]=ra;function hT(e){var t=vT;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var dT=Ze(et,"Opera"),xi=Ze(et,"Trident")||Ze(et,"MSIE"),Wg=Ze(et,"Edge"),cf=Wg||xi,Gg=Ze(et,"Gecko")&&!(Ze(et.toLowerCase(),"webkit")&&!Ze(et,"Edge"))&&!(Ze(et,"Trident")||Ze(et,"MSIE"))&&!Ze(et,"Edge"),pT=Ze(et.toLowerCase(),"webkit")&&!Ze(et,"Edge");function Yg(){var e=V.document;return e?e.documentMode:void 0}var oa;e:{var rc="",ic=function(){var e=et;if(Gg)return/rv:([^\);]+)(\)|;)/.exec(e);if(Wg)return/Edge\/([\d\.]+)/.exec(e);if(xi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(pT)return/WebKit\/(\S+)/.exec(e);if(dT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ic&&(rc=ic?ic[1]:""),xi){var oc=Yg();if(oc!=null&&oc>parseFloat(rc)){oa=String(oc);break e}}oa=rc}var vT={};function yT(){return hT(function(){for(var e=0,t=nv(String(oa)).split("."),n=nv("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=nc(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||nc(o[2].length==0,s[2].length==0)||nc(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var ff;if(V.document&&xi){var sv=Yg();ff=sv||parseInt(oa,10)||void 0}else ff=void 0;var mT=ff,gT=function(){if(!V.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{V.addEventListener("test",ra,t),V.removeEventListener("test",ra,t)}catch{}return e}();function Qe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};function es(e,t){if(Qe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gg){e:{try{Fh(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:wT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&es.Z.h.call(this)}}Ue(es,Qe);var wT={2:"touch",3:"pen",4:"mouse"};es.prototype.h=function(){es.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wa="closure_listenable_"+(1e6*Math.random()|0),ET=0;function ST(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ET,this.ca=this.fa=!1}function Ga(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ya(e){this.src=e,this.g={},this.h=0}Ya.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=df(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new ST(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function hf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=qg(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ga(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function df(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Mh="closure_lm_"+(1e6*Math.random()|0),sc={};function Xg(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xg(e,t[o],n,r,i);return null}return n=e0(n),e&&e[Wa]?e.N(t,n,Qa(r)?!!r.capture:!!r,i):_T(e,t,n,!1,r,i)}function _T(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Qa(i)?!!i.capture:!!i,u=Uh(e);if(u||(e[Mh]=u=new Ya(e)),n=u.add(t,n,r,s,o),n.proxy)return n;if(r=TT(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gT||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zg(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TT(){function e(n){return t.call(e.src,e.listener,n)}var t=IT;return e}function Jg(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Jg(e,t[o],n,r,i);else r=Qa(r)?!!r.capture:!!r,n=e0(n),e&&e[Wa]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=df(o,n,r,i),-1<n&&(Ga(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Uh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=df(t,n,r,i)),(n=-1<e?t[e]:null)&&$h(n))}function $h(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Wa])hf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Uh(t))?(hf(n,e),n.h==0&&(n.src=null,t[Mh]=null)):Ga(e)}}}function Zg(e){return e in sc?sc[e]:sc[e]="on"+e}function IT(e,t){if(e.ca)e=!0;else{t=new es(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$h(e),e=n.call(r,t)}return e}function Uh(e){return e=e[Mh],e instanceof Ya?e:null}var uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function e0(e){return typeof e=="function"?e:(e[uc]||(e[uc]=function(t){return e.handleEvent(t)}),e[uc])}function be(){tr.call(this),this.i=new Ya(this),this.P=this,this.I=null}Ue(be,tr);be.prototype[Wa]=!0;be.prototype.removeEventListener=function(e,t,n,r){Jg(this,e,t,n,r)};function Me(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Qe(t,e);else if(t instanceof Qe)t.target=t.target||e;else{var i=t;t=new Qe(r,e),Qg(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=su(s,r,!0,t)&&i}if(s=t.g=e,i=su(s,r,!0,t)&&i,i=su(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=su(s,r,!1,t)&&i}be.prototype.M=function(){if(be.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ga(n[r]);delete e.g[t],e.h--}}this.I=null};be.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};be.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function su(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var u=s.listener,a=s.ia||s.src;s.fa&&hf(e.i,s),i=u.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vh=V.JSON.stringify;function kT(){var e=n0,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var NT=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=t0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),t0=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new CT},function(e){return e.reset()}),CT=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function xT(e){V.setTimeout(function(){throw e},0)}function jh(e,t){pf||DT(),vf||(pf(),vf=!0),n0.add(e,t)}var pf;function DT(){var e=V.Promise.resolve(void 0);pf=function(){e.then(AT)}}var vf=!1,n0=new NT;function AT(){for(var e;e=kT();){try{e.h.call(e.g)}catch(n){xT(n)}var t=t0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vf=!1}function Xa(e,t){be.call(this),this.h=e||1,this.g=t||V,this.j=Fe(this.kb,this),this.l=Date.now()}Ue(Xa,be);R=Xa.prototype;R.da=!1;R.S=null;R.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Me(this,"tick"),this.da&&(zh(this),this.start()))}};R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}R.M=function(){Xa.Z.M.call(this),zh(this),delete this.g};function Bh(e,t,n){if(typeof e=="function")n&&(e=Fe(e,n));else if(e&&typeof e.handleEvent=="function")e=Fe(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:V.setTimeout(e,t||0)}function r0(e){e.g=Bh(function(){e.g=null,e.i&&(e.i=!1,r0(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var bT=function(e){iT(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:r0(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(V.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(tr);function ts(e){tr.call(this),this.h=e,this.g={}}Ue(ts,tr);var uv=[];function i0(e,t,n,r){Array.isArray(n)||(n&&(uv[0]=n.toString()),n=uv);for(var i=0;i<n.length;i++){var o=Xg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function o0(e){Lh(e.g,function(t,n){this.g.hasOwnProperty(n)&&$h(t)},e),e.g={}}ts.prototype.M=function(){ts.Z.M.call(this),o0(this)};ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ja(){this.g=!0}Ja.prototype.Aa=function(){this.g=!1};function PT(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var l=u[a].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function RT(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function fi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+LT(e,n)+(r?" "+r:"")})}function OT(e,t){e.info(function(){return"TIMEOUT: "+t})}Ja.prototype.info=function(){};function LT(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Vh(n)}catch{return t}}var Ur={},av=null;function Za(){return av=av||new be}Ur.Ma="serverreachability";function s0(e){Qe.call(this,Ur.Ma,e)}Ue(s0,Qe);function ns(e){var t=Za();Me(t,new s0(t))}Ur.STAT_EVENT="statevent";function u0(e,t){Qe.call(this,Ur.STAT_EVENT,e),this.stat=t}Ue(u0,Qe);function tt(e){var t=Za();Me(t,new u0(t,e))}Ur.Na="timingevent";function a0(e,t){Qe.call(this,Ur.Na,e),this.size=t}Ue(a0,Qe);function _s(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return V.setTimeout(function(){e()},t)}var el={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},l0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qh(){}qh.prototype.h=null;function lv(e){return e.h||(e.h=e.i())}function c0(){}var Ts={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kh(){Qe.call(this,"d")}Ue(Kh,Qe);function Hh(){Qe.call(this,"c")}Ue(Hh,Qe);var yf;function tl(){}Ue(tl,qh);tl.prototype.g=function(){return new XMLHttpRequest};tl.prototype.i=function(){return{}};yf=new tl;function Is(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ts(this),this.P=FT,e=cf?125:void 0,this.W=new Xa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new f0}function f0(){this.i=null,this.g="",this.h=!1}var FT=45e3,mf={},sa={};R=Is.prototype;R.setTimeout=function(e){this.P=e};function gf(e,t,n){e.K=1,e.v=rl(En(t)),e.s=n,e.U=!0,h0(e,null)}function h0(e,t){e.F=Date.now(),ks(e),e.A=En(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),w0(n.h,"t",r),e.C=0,n=e.l.H,e.h=new f0,e.g=U0(e.l,n?t:null,!e.s),0<e.O&&(e.L=new bT(Fe(e.Ia,e,e.g),e.O)),i0(e.V,e.g,"readystatechange",e.gb),t=e.H?Hg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ns(),PT(e.j,e.u,e.A,e.m,e.X,e.s)}R.gb=function(e){e=e.target;var t=this.L;t&&cn(e)==3?t.l():this.Ia(e)};R.Ia=function(e){try{if(e==this.g)e:{var t=cn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||cf||this.g&&(this.h.h||this.g.ga()||dv(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?ns(3):ns(2)),nl(this);var i=this.g.ba();this.N=i;t:if(d0(this)){var o=dv(this.g);e="";var s=o.length,u=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),Ao(this);var a="";break t}this.h.i=new V.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,RT(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ia(l)){var f=l;break t}}f=null}if(i=f)fi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wf(this,i);else{this.i=!1,this.o=3,tt(12),yr(this),Ao(this);break e}}this.U?(p0(this,t,a),cf&&this.i&&t==3&&(i0(this.V,this.W,"tick",this.fb),this.W.start())):(fi(this.j,this.m,a,null),wf(this,a)),t==4&&yr(this),this.i&&!this.I&&(t==4?L0(this.l,this):(this.i=!1,ks(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,tt(12)):(this.o=0,tt(13)),yr(this),Ao(this)}}}catch{}finally{}};function d0(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function p0(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=MT(e,n),i==sa){t==4&&(e.o=4,tt(14),r=!1),fi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==mf){e.o=4,tt(15),fi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else fi(e.j,e.m,i,null),wf(e,i);d0(e)&&i!=sa&&i!=mf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,tt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),td(t),t.L=!0,tt(11))):(fi(e.j,e.m,n,"[Invalid Chunked Response]"),yr(e),Ao(e))}R.fb=function(){if(this.g){var e=cn(this.g),t=this.g.ga();this.C<t.length&&(nl(this),p0(this,e,t),this.i&&e!=4&&ks(this))}};function MT(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?sa:(n=Number(t.substring(n,r)),isNaN(n)?mf:(r+=1,r+n>t.length?sa:(t=t.substr(r,n),e.C=r+n,t)))}R.cancel=function(){this.I=!0,yr(this)};function ks(e){e.Y=Date.now()+e.P,v0(e,e.P)}function v0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=_s(Fe(e.eb,e),t)}function nl(e){e.B&&(V.clearTimeout(e.B),e.B=null)}R.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(OT(this.j,this.A),this.K!=2&&(ns(),tt(17)),yr(this),this.o=2,Ao(this)):v0(this,this.Y-e)};function Ao(e){e.l.G==0||e.I||L0(e.l,e)}function yr(e){nl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,zh(e.W),o0(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Ef(n.i,e))){if(n.I=e.N,!e.J&&Ef(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ca(n),sl(n);else break e;ed(n),tt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=_s(Fe(n.ab,n),6e3));if(1>=_0(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else mr(n,11)}else if((e.J||n.g==e)&&ca(n),!ia(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var a=o[5];a!=null&&typeof a=="number"&&0<a&&(r=1.5*a,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(Ze(c,"spdy")||Ze(c,"quic")||Ze(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Gh(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ue(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=$0(r,r.H?r.la:null,r.W),d.J){T0(r.i,d);var y=d,g=r.K;g&&y.setTimeout(g),y.B&&(nl(y),ks(y)),r.g=d}else R0(r);0<n.l.length&&ul(n)}else o[0]!="stop"&&o[0]!="close"||mr(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?mr(n,7):Zh(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}ns(4)}catch{}}function $T(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(lf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Qh(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(lf(e)||typeof e=="string")Kg(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(lf(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=$T(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Wi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}R=Wi.prototype;R.R=function(){Wh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};R.T=function(){return Wh(this),this.g.concat()};function Wh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];br(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],br(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}R.get=function(e,t){return br(this.h,e)?this.h[e]:t};R.set=function(e,t){br(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};R.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function br(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var y0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UT(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pr){this.g=t!==void 0?t:e.g,ua(this,e.j),this.s=e.s,aa(this,e.i),la(this,e.m),this.l=e.l,t=e.h;var n=new rs;n.i=t.i,t.g&&(n.g=new Wi(t.g),n.h=t.h),cv(this,n),this.o=e.o}else e&&(n=String(e).match(y0))?(this.g=!!t,ua(this,n[1]||"",!0),this.s=bo(n[2]||""),aa(this,n[3]||"",!0),la(this,n[4]),this.l=bo(n[5]||"",!0),cv(this,n[6]||"",!0),this.o=bo(n[7]||"")):(this.g=!!t,this.h=new rs(null,this.g))}Pr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wo(t,fv,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(wo(t,fv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(wo(n,n.charAt(0)=="/"?qT:BT,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wo(n,HT)),e.join("")};function En(e){return new Pr(e)}function ua(e,t,n){e.j=n?bo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function aa(e,t,n){e.i=n?bo(t,!0):t}function la(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cv(e,t,n){t instanceof rs?(e.h=t,QT(e.h,e.g)):(n||(t=wo(t,KT)),e.h=new rs(t,e.g))}function ue(e,t,n){e.h.set(t,n)}function rl(e){return ue(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function VT(e){return e instanceof Pr?En(e):new Pr(e,void 0)}function jT(e,t,n,r){var i=new Pr(null,void 0);return e&&ua(i,e),t&&aa(i,t),n&&la(i,n),r&&(i.l=r),i}function bo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,zT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zT(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fv=/[#\/\?@]/g,BT=/[#\?:]/g,qT=/[#\?]/g,KT=/[#\?@]/g,HT=/#/g;function rs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nr(e){e.g||(e.g=new Wi,e.h=0,e.i&&UT(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}R=rs.prototype;R.add=function(e,t){nr(this),this.i=null,e=Gi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function m0(e,t){nr(e),t=Gi(e,t),br(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,br(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Wh(e)))}function g0(e,t){return nr(e),t=Gi(e,t),br(e.g.h,t)}R.forEach=function(e,t){nr(this),this.g.forEach(function(n,r){Kg(n,function(i){e.call(t,i,r,this)},this)},this)};R.T=function(){nr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};R.R=function(e){nr(this);var t=[];if(typeof e=="string")g0(this,e)&&(t=tv(t,this.g.get(Gi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=tv(t,e[n])}return t};R.set=function(e,t){return nr(this),this.i=null,e=Gi(this,e),g0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};R.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function w0(e,t,n){m0(e,t),0<n.length&&(e.i=null,e.g.set(Gi(e,t),Oh(n)),e.h+=n.length)}R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function Gi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function QT(e,t){t&&!e.j&&(nr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(m0(this,r),w0(this,i,n))},e)),e.j=t}var WT=function(){function e(t,n){this.h=t,this.g=n}return e}();function E0(e){this.l=e||GT,V.PerformanceNavigationTiming?(e=V.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(V.g&&V.g.Ea&&V.g.Ea()&&V.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GT=10;function S0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function _0(e){return e.h?1:e.g?e.g.size:0}function Ef(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Gh(e,t){e.g?e.g.add(t):e.h=t}function T0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}E0.prototype.cancel=function(){var e,t;if(this.i=I0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=Bg(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function I0(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=Bg(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Oh(e.i)}function Yh(){}Yh.prototype.stringify=function(e){return V.JSON.stringify(e,void 0)};Yh.prototype.parse=function(e){return V.JSON.parse(e,void 0)};function YT(){this.g=new Yh}function XT(e,t,n){var r=n||"";try{Qh(e,function(i,o){var s=i;Qa(i)&&(s=Vh(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function JT(e,t){var n=new Ja;if(V.Image){var r=new Image;r.onload=ou(uu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ou(uu,n,r,"TestLoadImage: error",!1,t),r.onabort=ou(uu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ou(uu,n,r,"TestLoadImage: timeout",!1,t),V.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function uu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ns(e){this.l=e.$b||null,this.j=e.ib||!1}Ue(Ns,qh);Ns.prototype.g=function(){return new il(this.l,this.j)};Ns.prototype.i=function(e){return function(){return e}}({});function il(e,t){be.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Xh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ue(il,be);var Xh=0;R=il.prototype;R.open=function(e,t){if(this.readyState!=Xh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,is(this)};R.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||V).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=Xh};R.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof V.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k0(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function k0(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}R.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cs(this):is(this),this.readyState==3&&k0(this)}};R.Ua=function(e){this.g&&(this.response=this.responseText=e,Cs(this))};R.Ta=function(e){this.g&&(this.response=e,Cs(this))};R.ha=function(){this.g&&Cs(this)};function Cs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,is(e)}R.setRequestHeader=function(e,t){this.v.append(e,t)};R.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};R.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function is(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var ZT=V.JSON.parse;function _e(e){be.call(this),this.headers=new Wi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=N0,this.K=this.L=!1}Ue(_e,be);var N0="",eI=/^https?$/i,tI=["POST","PUT"];R=_e.prototype;R.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yf.g(),this.C=this.u?lv(this.u):lv(yf),this.g.onreadystatechange=Fe(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){hv(this,o);return}e=n||"";var i=new Wi(this.headers);r&&Qh(r,function(o,s){i.set(s,o)}),r=fT(i.T()),n=V.FormData&&e instanceof V.FormData,!(0<=qg(tI,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{D0(this),0<this.B&&((this.K=nI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fe(this.pa,this)):this.A=Bh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){hv(this,o)}};function nI(e){return xi&&yT()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function rI(e){return e.toLowerCase()=="content-type"}R.pa=function(){typeof Rh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Me(this,"timeout"),this.abort(8))};function hv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,C0(e),ol(e)}function C0(e){e.D||(e.D=!0,Me(e,"complete"),Me(e,"error"))}R.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Me(this,"complete"),Me(this,"abort"),ol(this))};R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ol(this,!0)),_e.Z.M.call(this)};R.Fa=function(){this.s||(this.F||this.v||this.l?x0(this):this.cb())};R.cb=function(){x0(this)};function x0(e){if(e.h&&typeof Rh<"u"&&(!e.C[1]||cn(e)!=4||e.ba()!=2)){if(e.v&&cn(e)==4)Bh(e.Fa,0,e);else if(Me(e,"readystatechange"),cn(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(y0)[1]||null;if(!o&&V.self&&V.self.location){var s=V.self.location.protocol;o=s.substr(0,s.length-1)}i=!eI.test(o?o.toLowerCase():"")}r=i}if(r)Me(e,"complete"),Me(e,"success");else{e.m=6;try{var u=2<cn(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.ba()+"]",C0(e)}}finally{ol(e)}}}}function ol(e,t){if(e.g){D0(e);var n=e.g,r=e.C[0]?ra:null;e.g=null,e.C=null,t||Me(e,"ready");try{n.onreadystatechange=r}catch{}}}function D0(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(V.clearTimeout(e.A),e.A=null)}function cn(e){return e.g?e.g.readyState:0}R.ba=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};R.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};R.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),ZT(t)}};function dv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case N0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}R.Da=function(){return this.m};R.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function iI(e){var t="";return Lh(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Jh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iI(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ue(e,t,n))}function ho(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function A0(e){this.za=0,this.l=[],this.h=new Ja,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ho("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ho("baseRetryDelayMs",5e3,e),this.$a=ho("retryDelaySeedMs",1e4,e),this.Ya=ho("forwardChannelMaxRetries",2,e),this.ra=ho("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new E0(e&&e.concurrentRequestLimit),this.Ca=new YT,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}R=A0.prototype;R.ma=8;R.G=1;function Zh(e){if(b0(e),e.G==3){var t=e.V++,n=En(e.F);ue(n,"SID",e.J),ue(n,"RID",t),ue(n,"TYPE","terminate"),xs(e,n),t=new Is(e,e.h,t,void 0),t.K=2,t.v=rl(En(n)),n=!1,V.navigator&&V.navigator.sendBeacon&&(n=V.navigator.sendBeacon(t.v.toString(),"")),!n&&V.Image&&(new Image().src=t.v,n=!0),n||(t.g=U0(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ks(t)}M0(e)}R.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function sl(e){e.g&&(td(e),e.g.cancel(),e.g=null)}function b0(e){sl(e),e.u&&(V.clearTimeout(e.u),e.u=null),ca(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&V.clearTimeout(e.m),e.m=null)}function ac(e,t){e.l.push(new WT(e.Za++,t)),e.G==3&&ul(e)}function ul(e){S0(e.i)||e.m||(e.m=!0,jh(e.Ha,e),e.C=0)}function oI(e,t){return _0(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=_s(Fe(e.Ha,e,t),F0(e,e.C)),e.C++,!0)}R.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Is(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=Hg(n),Qg(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=P0(this,t,r),i=En(this.F),ue(i,"RID",e),ue(i,"CVER",22),this.D&&ue(i,"X-HTTP-Session-Id",this.D),xs(this,i),this.o&&n&&Jh(i,this.o,n),Gh(this.i,t),this.Ra&&ue(i,"TYPE","init"),this.ja?(ue(i,"$req",r),ue(i,"SID","null"),t.$=!0,gf(t,i,null)):gf(t,i,r),this.G=2}}else this.G==3&&(e?pv(this,e):this.l.length==0||S0(this.i)||pv(this))};function pv(e,t){var n;t?n=t.m:n=e.V++;var r=En(e.F);ue(r,"SID",e.J),ue(r,"RID",n),ue(r,"AID",e.U),xs(e,r),e.o&&e.s&&Jh(r,e.o,e.s),n=new Is(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=P0(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gh(e.i,n),gf(n,r,t)}function xs(e,t){e.j&&Qh({},function(n,r){ue(t,r,n)})}function P0(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Fe(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var l=i[a].h,c=i[a].g;if(l-=o,0>l)o=Math.max(0,i[a].h-100),u=!1;else try{XT(c,s,"req"+l+"_")}catch{r&&r(c)}}if(u){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function R0(e){e.g||e.u||(e.Y=1,jh(e.Ga,e),e.A=0)}function ed(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=_s(Fe(e.Ga,e),F0(e,e.A)),e.A++,!0)}R.Ga=function(){if(this.u=null,O0(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=_s(Fe(this.bb,this),e)}};R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tt(10),sl(this),O0(this))};function td(e){e.B!=null&&(V.clearTimeout(e.B),e.B=null)}function O0(e){e.g=new Is(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=En(e.oa);ue(t,"RID","rpc"),ue(t,"SID",e.J),ue(t,"CI",e.N?"0":"1"),ue(t,"AID",e.U),xs(e,t),ue(t,"TYPE","xmlhttp"),e.o&&e.s&&Jh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rl(En(t)),n.s=null,n.U=!0,h0(n,e)}R.ab=function(){this.v!=null&&(this.v=null,sl(this),ed(this),tt(19))};function ca(e){e.v!=null&&(V.clearTimeout(e.v),e.v=null)}function L0(e,t){var n=null;if(e.g==t){ca(e),td(e),e.g=null;var r=2}else if(Ef(e.i,t))n=t.D,T0(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Za(),Me(r,new a0(r,n)),ul(e)}else R0(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&oI(e,t)||r==2&&ed(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mr(e,5);break;case 4:mr(e,10);break;case 3:mr(e,6);break;default:mr(e,2)}}}function F0(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Fe(e.jb,e);n||(n=new Pr("//www.google.com/images/cleardot.gif"),V.location&&V.location.protocol=="http"||ua(n,"https"),rl(n)),JT(n.toString(),r)}else tt(2);e.G=0,e.j&&e.j.va(t),M0(e),b0(e)}R.jb=function(e){e?(this.h.info("Successfully pinged google.com"),tt(2)):(this.h.info("Failed to ping google.com"),tt(1))};function M0(e){e.G=0,e.I=-1,e.j&&((I0(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Oh(e.l),e.l.length=0),e.j.ua())}function $0(e,t,n){var r=VT(n);if(r.i!="")t&&aa(r,t+"."+r.i),la(r,r.m);else{var i=V.location;r=jT(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Lh(e.aa,function(o,s){ue(r,s,o)}),t=e.D,n=e.sa,t&&n&&ue(r,t,n),ue(r,"VER",e.ma),xs(e,r),r}function U0(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new _e(new Ns({ib:!0})):new _e(e.qa),t.L=e.H,t}function V0(){}R=V0.prototype;R.xa=function(){};R.wa=function(){};R.va=function(){};R.ua=function(){};R.Oa=function(){};function fa(){if(xi&&!(10<=Number(mT)))throw Error("Environmental error: no available transport.")}fa.prototype.g=function(e,t){return new Ct(e,t)};function Ct(e,t){be.call(this),this.g=new A0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ia(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ia(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Yi(this)}Ue(Ct,be);Ct.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jh(Fe(e.hb,e,t))),tt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=$0(e,null,e.W),ul(e)};Ct.prototype.close=function(){Zh(this.g)};Ct.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,ac(this.g,t)}else this.v?(t={},t.__data__=Vh(e),ac(this.g,t)):ac(this.g,e)};Ct.prototype.M=function(){this.g.j=null,delete this.j,Zh(this.g),delete this.g,Ct.Z.M.call(this)};function j0(e){Kh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ue(j0,Kh);function z0(){Hh.call(this),this.status=1}Ue(z0,Hh);function Yi(e){this.g=e}Ue(Yi,V0);Yi.prototype.xa=function(){Me(this.g,"a")};Yi.prototype.wa=function(e){Me(this.g,new j0(e))};Yi.prototype.va=function(e){Me(this.g,new z0)};Yi.prototype.ua=function(){Me(this.g,"b")};fa.prototype.createWebChannel=fa.prototype.g;Ct.prototype.send=Ct.prototype.u;Ct.prototype.open=Ct.prototype.m;Ct.prototype.close=Ct.prototype.close;el.NO_ERROR=0;el.TIMEOUT=8;el.HTTP_ERROR=6;l0.COMPLETE="complete";c0.EventType=Ts;Ts.OPEN="a";Ts.CLOSE="b";Ts.ERROR="c";Ts.MESSAGE="d";be.prototype.listen=be.prototype.N;_e.prototype.listenOnce=_e.prototype.O;_e.prototype.getLastError=_e.prototype.La;_e.prototype.getLastErrorCode=_e.prototype.Da;_e.prototype.getStatus=_e.prototype.ba;_e.prototype.getResponseJson=_e.prototype.Qa;_e.prototype.getResponseText=_e.prototype.ga;_e.prototype.send=_e.prototype.ea;var sI=function(){return new fa},uI=function(){return Za()},lc=el,aI=l0,lI=Ur,vv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cI=Ns,au=c0,fI=_e,hI={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();_t.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},I=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return $(t,e),t}(Error),qt=new Ug("@firebase/firestore");function Sf(){return qt.logLevel}function D(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(qt.logLevel<=G.DEBUG){var r=t.map(nd);qt.debug.apply(qt,pe(["Firestore (8.10.1): "+e],r))}}function Ee(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(qt.logLevel<=G.ERROR){var r=t.map(nd);qt.error.apply(qt,pe(["Firestore (8.10.1): "+e],r))}}function ha(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(qt.logLevel<=G.WARN){var r=t.map(nd);qt.warn.apply(qt,pe(["Firestore (8.10.1): "+e],r))}}function nd(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ee(t),new Error(t)}function U(e,t){e||L()}function b(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B0=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=dI(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function H(e,t){return e<t?-1:e>t?1:0}function Di(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function q0(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new I(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new I(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new I(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new I(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?H(this.nanoseconds,t.nanoseconds):H(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),q=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new dt(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function K0(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H0=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&L(),r===void 0?r=t.length-n:r>t.length-n&&L(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Y=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];if(u.indexOf("//")>=0)throw new I(w.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(a){return a.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(H0),pI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return pI.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new I(w.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var a=n[o];if(a==="\\"){if(o+1===n.length)throw new I(w.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new I(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else a==="`"?(u=!u,o++):a!=="."||u?(i+=a,o++):(s(),o++)}if(s(),u)throw new I(w.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(H0),Ai=function(){function e(t){this.fields=t,t.sort(Wt.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Di(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),pt=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return H(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();pt.EMPTY_BYTE_STRING=new pt("");var vI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(e){if(U(!!e),typeof e=="string"){var t=0,n=vI.exec(e);if(U(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ge(e.seconds),nanos:ge(e.nanos)}}function ge(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function bi(e){return typeof e=="string"?pt.fromBase64String(e):pt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Q0(e){var t=e.mapValue.fields.__previous_value__;return rd(t)?Q0(t):t}function os(e){var t=Yn(e.mapValue.fields.__local_write_time__.timestampValue);return new dt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e){return e==null}function da(e){return e===0&&1/e==-1/0}function W0(e){return typeof e=="number"&&Number.isInteger(e)&&!da(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Y.fromString(t))},e.fromName=function(t){return new e(Y.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Y.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Y.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Y(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rd(e)?4:10:L()}function rn(e,t){var n=Rr(e);if(n!==Rr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return os(e).isEqual(os(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Yn(r.timestampValue),s=Yn(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return bi(r.bytesValue).isEqual(bi(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ge(r.geoPointValue.latitude)===ge(i.geoPointValue.latitude)&&ge(r.geoPointValue.longitude)===ge(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ge(r.integerValue)===ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=ge(r.doubleValue),s=ge(i.doubleValue);return o===s?da(o)===da(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Di(e.arrayValue.values||[],t.arrayValue.values||[],rn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(yv(o)!==yv(s))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!rn(o[u],s[u])))return!1;return!0}(e,t);default:return L()}}function ss(e,t){return(e.values||[]).find(function(n){return rn(n,t)})!==void 0}function Pi(e,t){var n=Rr(e),r=Rr(t);if(n!==r)return H(n,r);switch(n){case 0:return 0;case 1:return H(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=ge(i.integerValue||i.doubleValue),u=ge(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(e,t);case 3:return mv(e.timestampValue,t.timestampValue);case 4:return mv(os(e),os(t));case 5:return H(e.stringValue,t.stringValue);case 6:return function(i,o){var s=bi(i),u=bi(o);return s.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),u=o.split("/"),a=0;a<s.length&&a<u.length;a++){var l=H(s[a],u[a]);if(l!==0)return l}return H(s.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=H(ge(i.latitude),ge(o.latitude));return s!==0?s:H(ge(i.longitude),ge(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],u=o.values||[],a=0;a<s.length&&a<u.length;++a){var l=Pi(s[a],u[a]);if(l)return l}return H(s.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},u=Object.keys(s),a=o.fields||{},l=Object.keys(a);u.sort(),l.sort();for(var c=0;c<u.length&&c<l.length;++c){var f=H(u[c],l[c]);if(f!==0)return f;var h=Pi(s[u[c]],a[l[c]]);if(h!==0)return h}return H(u.length,l.length)}(e.mapValue,t.mapValue);default:throw L()}}function mv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return H(e,t);var n=Yn(e),r=Yn(t),i=H(n.seconds,r.seconds);return i!==0?i:H(n.nanos,r.nanos)}function id(e){return _f(e)}function _f(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Yn(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,M.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,u=r.values||[];s<u.length;s++)o?o=!1:i+=",",i+=_f(u[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,u=Object.keys(r.fields||{}).sort();s<u.length;s++){var a=u[s];o?o=!1:i+=",",i+=a+":"+_f(r.fields[a])}return i+"}"}(e.mapValue):L();var t,n}function pa(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Tf(e){return!!e&&"integerValue"in e}function od(e){return!!e&&"arrayValue"in e}function gv(e){return!!e&&"nullValue"in e}function wv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nu(e){return!!e&&"mapValue"in e}function Po(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Vr(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=Po(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Po(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Nu(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Po(n)},e.prototype.setAll=function(t){var n=this,r=Wt.emptyPath(),i={},o=[];t.forEach(function(u,a){if(!r.isImmediateParentOf(a)){var l=n.getFieldsMap(r);n.applyChanges(l,i,o),i={},o=[],r=a.popLast()}u?i[a.lastSegment()]=Po(u):o.push(a.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return rn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Nu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Vr(n,function(u,a){return t[u]=a});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(Po(this.value))},e}();function G0(e){var t=[];return Vr(e.fields,function(n,r){var i=new Wt([n]);if(Nu(r)){var o=G0(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,u=o;s<u.length;s++){var a=u[s];t.push(i.child(a))}}else t.push(i)}),new Ai(t)}var Ge=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,q.min(),Et.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Et.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Et.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Et.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Et.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),yI=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new yI(e,t,n,r,i,o,s)}function Ds(e){var t=b(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+id(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),jr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ya(t.startAt)),t.endAt&&(n+="|ub:",n+=ya(t.endAt)),t.h=n}return t.h}function al(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!II(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!rn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_v(e.startAt,t.startAt)&&_v(e.endAt,t.endAt)}function va(e){return M.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Tt=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return $(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new mI(n,r,i):r==="array-contains"?new EI(n,i):r==="in"?new SI(n,i):r==="not-in"?new _I(n,i):r==="array-contains-any"?new TI(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new gI(n,i):new wI(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Pi(r,this.value)):r!==null&&Rr(this.value)===Rr(r)&&this.m(Pi(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return L()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),mI=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=M.fromName(i.referenceValue),o}return $(t,e),t.prototype.matches=function(n){var r=M.comparator(n.key,this.key);return this.m(r)},t}(Tt),gI=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=Y0("in",r),i}return $(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Tt),wI=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=Y0("not-in",r),i}return $(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Tt);function Y0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return M.fromName(r.referenceValue)})}var EI=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return $(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return od(r)&&ss(r.arrayValue,this.value)},t}(Tt),SI=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return $(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ss(this.value.arrayValue,r)},t}(Tt),_I=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return $(t,e),t.prototype.matches=function(n){if(ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ss(this.value.arrayValue,r)},t}(Tt),TI=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return $(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!od(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return ss(r.value.arrayValue,o)})},t}(Tt),us=function(e,t){this.position=e,this.before=t};function ya(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return id(t)}).join(",")}var wi=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function II(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Sv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?M.comparator(M.fromName(s.referenceValue),n.key):Pi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function _v(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n=function(e,t,n,r,i,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function X0(e,t,n,r,i,o,s,u){return new _n(e,t,n,r,i,o,s,u)}function As(e){return new _n(e)}function Cu(e){return!jr(e.limit)&&e.limitType==="F"}function ma(e){return!jr(e.limit)&&e.limitType==="L"}function sd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ud(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ad(e){return e.collectionGroup!==null}function Ri(e){var t=b(e);if(t.p===null){t.p=[];var n=ud(t),r=sd(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new wi(n)),t.p.push(new wi(Wt.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var u=s[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wi(Wt.keyField(),a))}}}return t.p}function on(e){var t=b(e);if(!t.T)if(t.limitType==="F")t.T=Ev(t.path,t.collectionGroup,Ri(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ri(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new wi(o.field,s))}var u=t.endAt?new us(t.endAt.position,!t.endAt.before):null,a=t.startAt?new us(t.startAt.position,!t.startAt.before):null;t.T=Ev(t.path,t.collectionGroup,n,t.filters,t.limit,u,a)}return t.T}function J0(e,t,n){return new _n(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bs(e,t){return al(on(e),on(t))&&e.limitType===t.limitType}function Z0(e){return Ds(on(e))+"|lt:"+e.limitType}function If(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+id(i.value);var i}).join(", ")+"]"),jr(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ya(t.startAt)),t.endAt&&(n+=", endAt: "+ya(t.endAt)),"Target("+n+")"}(on(e))+"; limitType="+e.limitType+")"}function Ps(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!Sv(n.startAt,Ri(n),r))&&(!n.endAt||!Sv(n.endAt,Ri(n),r))}(e,t)}function ew(e){return function(t,n){for(var r=!1,i=0,o=Ri(e);i<o.length;i++){var s=o[i],u=kI(s,t,n);if(u!==0)return u;r=r||s.field.isKeyField()}return 0}}function kI(e,t,n){var r=e.field.isKeyField()?M.comparator(t.key,n.key):function(i,o,s){var u=o.data.field(i),a=s.data.field(i);return u!==null&&a!==null?Pi(u,a):L()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(t)?"-0":t}}function nw(e){return{integerValue:""+e}}function rw(e,t){return W0(t)?nw(t):tw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ll=function(){this._=void 0};function NI(e,t,n){return e instanceof Oi?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Or?ow(e,t):e instanceof Lr?sw(e,t):function(r,i){var o=iw(r,i),s=Tv(o)+Tv(r.A);return Tf(o)&&Tf(r.A)?nw(s):tw(r.R,s)}(e,t)}function CI(e,t,n){return e instanceof Or?ow(e,t):e instanceof Lr?sw(e,t):n}function iw(e,t){return e instanceof Li?Tf(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Oi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t}(ll),Or=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return $(t,e),t}(ll);function ow(e,t){for(var n=uw(t),r=function(s){n.some(function(u){return rn(u,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lr=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return $(t,e),t}(ll);function sw(e,t){for(var n=uw(t),r=function(s){n=n.filter(function(u){return!rn(u,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Li=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return $(t,e),t}(ll);function Tv(e){return ge(e.integerValue||e.doubleValue)}function uw(e){return od(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rs=function(e,t){this.field=e,this.transform=t},xI=function(e,t){this.version=e,this.transformResults=t},He=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function xu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var cl=function(){};function DI(e,t,n){e instanceof Os?function(r,i,o){var s=r.value.clone(),u=Nv(r.fieldTransforms,i,o.transformResults);s.setAll(u),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof rr?function(r,i,o){if(xu(r.precondition,i)){var s=Nv(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(aw(r)),u.setAll(s),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function kf(e,t,n){e instanceof Os?function(r,i,o){if(xu(r.precondition,i)){var s=r.value.clone(),u=Cv(r.fieldTransforms,o,i);s.setAll(u),i.convertToFoundDocument(kv(i),s).setHasLocalMutations()}}(e,t,n):e instanceof rr?function(r,i,o){if(xu(r.precondition,i)){var s=Cv(r.fieldTransforms,o,i),u=i.data;u.setAll(aw(r)),u.setAll(s),i.convertToFoundDocument(kv(i),u).setHasLocalMutations()}}(e,t,n):function(r,i){xu(r.precondition,i)&&i.convertToNoDocument(q.min())}(e,t)}function AI(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),u=iw(o.transform,s||null);u!=null&&(n==null&&(n=Et.empty()),n.set(o.field,u))}return n||null}function Iv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Di(n,r,function(i,o){return function(s,u){return s.field.isEqual(u.field)&&function(a,l){return a instanceof Or&&l instanceof Or||a instanceof Lr&&l instanceof Lr?Di(a.elements,l.elements,rn):a instanceof Li&&l instanceof Li?rn(a.A,l.A):a instanceof Oi&&l instanceof Oi}(s.transform,u.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function kv(e){return e.isFoundDocument()?e.version:q.min()}var Os=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return $(t,e),t}(cl),rr=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return $(t,e),t}(cl);function aw(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Nv(e,t,n){var r=new Map;U(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,u=t.data.field(o.field);r.set(o.field,CI(s,u,n[i]))}return r}function Cv(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],u=s.transform,a=n.data.field(s.field);r.set(s.field,NI(u,a,t))}return r}var me,Q,Ls=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return $(t,e),t}(cl),ld=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return $(t,e),t}(cl),bI=function(e){this.count=e};function lw(e){switch(e){case w.OK:return L();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return L()}}function cw(e){if(e===void 0)return Ee("GRPC error has no .code"),w.UNKNOWN;switch(e){case me.OK:return w.OK;case me.CANCELLED:return w.CANCELLED;case me.UNKNOWN:return w.UNKNOWN;case me.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case me.INTERNAL:return w.INTERNAL;case me.UNAVAILABLE:return w.UNAVAILABLE;case me.UNAUTHENTICATED:return w.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case me.NOT_FOUND:return w.NOT_FOUND;case me.ALREADY_EXISTS:return w.ALREADY_EXISTS;case me.PERMISSION_DENIED:return w.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case me.ABORTED:return w.ABORTED;case me.OUT_OF_RANGE:return w.OUT_OF_RANGE;case me.UNIMPLEMENTED:return w.UNIMPLEMENTED;case me.DATA_LOSS:return w.DATA_LOSS;default:return L()}}(Q=me||(me={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye=function(){function e(t,n){this.comparator=t,this.root=n||Pn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pn.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new lu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new lu(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new lu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new lu(this.root,t,this.comparator,!0)},e}(),lu=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Pn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();var t=this.left.check();if(t!==this.right.check())throw L();return t+(this.isRed()?0:1)},e}();Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1,Pn.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw L()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw L()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw L()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw L()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw L()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Pn(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(){function e(t){this.comparator=t,this.data=new Ye(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new xv(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new xv(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),xv=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),PI=new Ye(M.comparator);function Kt(){return PI}var RI=new Ye(M.comparator);function Nf(){return RI}var OI=new Ye(M.comparator);function LI(){return OI}var FI=new Ne(M.comparator);function te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=FI,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var MI=new Ne(H);function fl(){return MI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,fd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(q.min(),r,fl(),Kt(),te())},e}(),fd=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(pt.EMPTY_BYTE_STRING,n,te(),te(),te())},e}(),Du=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},fw=function(e,t){this.targetId=e,this.V=t},hw=function(e,t,n,r){n===void 0&&(n=pt.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Dv=function(){function e(){this.S=0,this.D=bv(),this.C=pt.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=te(),n=te(),r=te();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new fd(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=bv()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),$I=function(){function e(t){this.W=t,this.G=new Map,this.H=Kt(),this.J=Av(),this.Y=new Ne(H)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:L()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(va(o))if(r===0){var s=new M(o.path);this.tt(n,s,Ge.newNoDocument(s,q.min()))}else U(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,u){var a=n.ot(u);if(a){if(s.current&&va(a.target)){var l=new M(a.target.path);n.H.get(l)!==null||n.at(u,l)||n.tt(u,l,Ge.newNoDocument(l,t))}s.$&&(r.set(u,s.M()),s.L())}});var i=te();this.J.forEach(function(s,u){var a=!0;u.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))});var o=new cd(t,r,this.Y,this.H,i);return this.H=Kt(),this.J=Av(),this.Y=new Ne(H),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new Dv,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ne(H),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||D("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new Dv),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function Av(){return new Ye(M.comparator)}function bv(){return new Ye(M.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI=function(e,t){this.databaseId=e,this.I=t};function as(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function dw(e,t){return e.I?t.toBase64():t.toUint8Array()}function zI(e,t){return as(e,t.toTimestamp())}function nt(e){return U(!!e),q.fromTimestamp(function(t){var n=Yn(t);return new dt(n.seconds,n.nanos)}(e))}function hd(e,t){return function(n){return new Y(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function pw(e){var t=Y.fromString(e);return U(Sw(t)),t}function ls(e,t){return hd(e.databaseId,t.path)}function dn(e,t){var n=pw(t);if(n.get(1)!==e.databaseId.projectId)throw new I(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new I(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new M(yw(n))}function Cf(e,t){return hd(e.databaseId,t)}function vw(e){var t=pw(e);return t.length===4?Y.emptyPath():yw(t)}function cs(e){return new Y(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yw(e){return U(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Pv(e,t,n){return{name:ls(e,t),fields:n.value.mapValue.fields}}function BI(e,t,n){var r=dn(e,t.name),i=nt(t.updateTime),o=new Et({mapValue:{fields:t.fields}}),s=Ge.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ga(e,t){var n;if(t instanceof Os)n={update:Pv(e,t.key,t.value)};else if(t instanceof Ls)n={delete:ls(e,t.key)};else if(t instanceof rr)n={update:Pv(e,t.key,t.data),updateMask:WI(t.fieldMask)};else{if(!(t instanceof ld))return L();n={verify:ls(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Or)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Lr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Li)return{fieldPath:o.field.canonicalString(),increment:s.A};throw L()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:zI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:L()}(e,t.precondition)),n}function Rv(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?He.updateTime(nt(l.updateTime)):l.exists!==void 0?He.exists(l.exists):He.none()}(t.currentDocument):He.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,f){var h=null;if("setToServerValue"in f)U(f.setToServerValue==="REQUEST_TIME"),h=new Oi;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new Or(d)}else if("removeAllFromArray"in f){var y=f.removeAllFromArray.values||[];h=new Lr(y)}else"increment"in f?h=new Li(c,f.increment):L();var g=Wt.fromServerFormat(f.fieldPath);return new Rs(g,h)}(e,l)}):[];if(t.update){t.update.name;var i=dn(e,t.update.name),o=new Et({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Ai(c.map(function(f){return Wt.fromServerFormat(f)}))}(t.updateMask);return new rr(i,o,s,n,r)}return new Os(i,o,n,r)}if(t.delete){var u=dn(e,t.delete);return new Ls(u,n)}if(t.verify){var a=dn(e,t.verify);return new ld(a,n)}return L()}function mw(e,t){return{documents:[Cf(e,t.path)]}}function gw(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Cf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var a=u.map(function(l){return function(c){if(c.op==="=="){if(wv(c.value))return{unaryFilter:{field:Wr(c.field),op:"IS_NAN"}};if(gv(c.value))return{unaryFilter:{field:Wr(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(wv(c.value))return{unaryFilter:{field:Wr(c.field),op:"IS_NOT_NAN"}};if(gv(c.value))return{unaryFilter:{field:Wr(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wr(c.field),op:KI(c.op),value:c.value}}}(l)});return a.length===1?a[0]:{compositeFilter:{op:"AND",filters:a}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(a){return function(l){return{field:Wr(l.field),direction:qI(l.dir)}}(a)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(u,a){return u.I||jr(a)?a:{value:a}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Ov(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ov(t.endAt)),n}function ww(e){var t=vw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){U(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=Ew(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(f){return function(h){return new wi(hi(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var a=null;n.limit&&(a=function(f){var h;return jr(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var l=null;n.startAt&&(l=Lv(n.startAt));var c=null;return n.endAt&&(c=Lv(n.endAt)),X0(t,i,u,s,a,"F",l,c)}function Ew(e){return e?e.unaryFilter!==void 0?[QI(e)]:e.fieldFilter!==void 0?[HI(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Ew(t)}).reduce(function(t,n){return t.concat(n)}):L():[]}function Ov(e){return{before:e.before,values:e.position}}function Lv(e){var t=!!e.before,n=e.values||[];return new us(n,t)}function qI(e){return UI[e]}function KI(e){return VI[e]}function Wr(e){return{fieldPath:e.canonicalString()}}function hi(e){return Wt.fromServerFormat(e.fieldPath)}function HI(e){return Tt.create(hi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return L()}}(e.fieldFilter.op),e.fieldFilter.value)}function QI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=hi(e.unaryFilter.field);return Tt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=hi(e.unaryFilter.field);return Tt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hi(e.unaryFilter.field);return Tt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hi(e.unaryFilter.field);return Tt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return L()}}function WI(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Sw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Fv(t)),t=GI(e.get(n),t);return Fv(t)}function GI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Fv(e){return e+""}function fn(e){var t=e.length;if(U(t>=2),t===2)return U(e.charAt(0)===""&&e.charAt(1)===""),Y.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&L(),e.charAt(s+1)){case"":var u=e.substring(o,s),a=void 0;i.length===0?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:L()}o=s+2}return new Y(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YI=function(e,t){this.seconds=e,this.nanoseconds=t},gt=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};gt.store="owner",gt.key="owner";var Hn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Hn.store="mutationQueues",Hn.keyPath="userId";var re=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};re.store="mutations",re.keyPath="batchId",re.userMutationsIndex="userMutationsIndex",re.userMutationsKeyPath=["userId","batchId"];var qe=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Ht(n)]},e.key=function(t,n,r){return[t,Ht(n),r]},e}();qe.store="documentMutations",qe.PLACEHOLDER=new qe;var XI=function(e,t){this.path=e,this.readTime=t},JI=function(e,t){this.path=e,this.version=t},de=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};de.store="remoteDocuments",de.readTimeIndex="readTimeIndex",de.readTimeIndexPath="readTime",de.collectionReadTimeIndex="collectionReadTimeIndex",de.collectionReadTimeIndexPath=["parentPath","readTime"];var Zt=function(e){this.byteSize=e};Zt.store="remoteDocumentGlobal",Zt.key="remoteDocumentGlobalKey";var lt=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};lt.store="targets",lt.keyPath="targetId",lt.queryTargetsIndexName="queryTargetsIndex",lt.queryTargetsKeyPath=["canonicalId","targetId"];var Oe=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Oe.store="targetDocuments",Oe.keyPath=["targetId","path"],Oe.documentTargetsIndex="documentTargetsIndex",Oe.documentTargetsKeyPath=["path","targetId"];var wt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wt.key="targetGlobalKey",wt.store="targetGlobal";var _r=function(e,t){this.collectionId=e,this.parent=t};_r.store="collectionParents",_r.keyPath=["collectionId","parent"];var pn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};pn.store="clientMetadata",pn.keyPath="clientId";var Fi=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Fi.store="bundles",Fi.keyPath="bundleId";var Mi=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Mi.store="namedQueries",Mi.keyPath="name";var ZI=pe(pe([],pe(pe([],pe(pe([],pe(pe([],[Hn.store,re.store,qe.store,de.store,lt.store,gt.store,wt.store,Oe.store]),[pn.store])),[Zt.store])),[_r.store])),[Fi.store,Mi.store]),_w="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tw=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),vt=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},N=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(u){++i,u.next(function(){++o,s&&o===i&&n()},function(a){return r(a)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(u){return u?e.resolve(u):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),Iw=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new vt,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Ro(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=dd(i.target.error);r.ft.reject(new Ro(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new Ro(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(D("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new tk(n)},e}(),$i=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ar())===12.2&&Ee("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return D("SimpleDb","Removing database:",t),hr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Ar(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=hI)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return T(this,void 0,void 0,function(){var n,r=this;return _(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(D("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(a){var l=a.target.result;o(l)},u.onblocked=function(){s(new Ro(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(a){var l=a.target.error;l.name==="VersionError"?s(new I(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new Ro(t,l))},u.onupgradeneeded=function(a){D("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',a.oldVersion);var l=a.target.result;r.wt.Rt(l,u.transaction,a.oldVersion,r.version).next(function(){D("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return T(this,void 0,void 0,function(){var o,s,u,a,l;return _(this,function(c){switch(c.label){case 0:o=n==="readonly",s=0,u=function(){var f,h,d,y,g;return _(this,function(S){switch(S.label){case 0:++s,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=S.sent(),f=Iw.open(a.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(v){return f.abort(v),N.reject(v)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(S.sent(),h),d)];case 4:return y=S.sent(),g=y.name!=="FirebaseError"&&s<3,D("SimpleDb","Transaction failed with error:",y.message,"Retrying:",g),a.close(),g?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,u()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ek=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return hr(this.Pt.delete())},e}(),Ro=function(e){function t(n,r){var i=this;return(i=e.call(this,w.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return $(t,e),t}(I);function zr(e){return e.name==="IndexedDbTransactionError"}var tk=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),hr(r)},e.prototype.add=function(t){return D("SimpleDb","ADD",this.store.name,t,t),hr(this.store.add(t))},e.prototype.get=function(t){var n=this;return hr(this.store.get(t)).next(function(r){return r===void 0&&(r=null),D("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return D("SimpleDb","DELETE",this.store.name,t),hr(this.store.delete(t))},e.prototype.count=function(){return D("SimpleDb","COUNT",this.store.name),hr(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){D("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,u){return u.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new N(function(r,i){n.onerror=function(o){var s=dd(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(u){u?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new N(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var u=s.target.result;if(u){var a=new ek(u),l=n(u.primaryKey,u.value,a);if(l instanceof N){var c=l.catch(function(f){return a.done(),N.reject(f)});r.push(c)}a.isDone?i():a.Dt===null?u.continue():u.continue(a.Dt)}else i()}}).next(function(){return N.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function hr(e){return new N(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=dd(r.target.error);n(i)}})}var Mv=!1;function dd(e){var t=$i._t(Ar());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new I("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Mv||(Mv=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $v=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return $(t,e),t}(Tw);function yt(e,t){var n=b(e);return $i.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pd=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&DI(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&kf(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&kf(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(q.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},te())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Di(this.mutations,t.mutations,function(n,r){return Iv(n,r)})&&Di(this.baseMutations,t.baseMutations,function(n,r){return Iv(n,r)})},e}(),nk=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){U(t.mutations.length===r.length);for(var i=LI(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),hl=function(){function e(t,n,r,i,o,s,u){o===void 0&&(o=q.min()),s===void 0&&(s=q.min()),u===void 0&&(u=pt.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),kw=function(e){this.Lt=e};function xf(e,t){if(t.document)return BI(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=M.fromSegments(t.noDocument.path),r=Vi(t.noDocument.readTime),i=Ge.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=M.fromSegments(t.unknownDocument.path);return r=Vi(t.unknownDocument.version),Ge.newUnknownDocument(o,r)}return L()}function Uv(e,t,n){var r=vd(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:ls(f,h.key),fields:h.data.value.mapValue.fields,updateTime:as(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new de(null,null,o,s,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),a=Ui(t.version);return s=t.hasCommittedMutations,new de(null,new XI(u,a),null,s,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Ui(t.version);return new de(new JI(l,c),null,null,!0,r,i)}return L()}function vd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nw(e){var t=new dt(e[0],e[1]);return q.fromTimestamp(t)}function Ui(e){var t=e.toTimestamp();return new YI(t.seconds,t.nanoseconds)}function Vi(e){var t=new dt(e.seconds,e.nanoseconds);return q.fromTimestamp(t)}function Xr(e,t){for(var n=(t.baseMutations||[]).map(function(a){return Rv(e.Lt,a)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(a){return Rv(e.Lt,a)}),u=dt.fromMillis(t.localWriteTimeMs);return new pd(t.batchId,u,n,s)}function Eo(e){var t,n,r=Vi(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Vi(e.lastLimboFreeSnapshotVersion):q.min();return e.query.documents!==void 0?(U((n=e.query).documents.length===1),t=on(As(vw(n.documents[0])))):t=function(o){return on(ww(o))}(e.query),new hl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pt.fromBase64String(e.resumeToken))}function Cw(e,t){var n,r=Ui(t.snapshotVersion),i=Ui(t.lastLimboFreeSnapshotVersion);n=va(t.target)?mw(e.Lt,t.target):gw(e.Lt,t.target);var o=t.resumeToken.toBase64();return new lt(t.targetId,Ds(t.target),r,o,t.sequenceNumber,i,n)}function xw(e){var t=ww({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?J0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Vv(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Vi(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Vv(t).put({bundleId:(r=n).id,createTime:Ui(nt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return jv(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:xw(i.bundledQuery),readTime:Vi(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return jv(t).put(function(r){return{name:r.name,readTime:Ui(nt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Vv(e){return yt(e,Fi.store)}function jv(e){return yt(e,Mi.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ik=function(){function e(){this.Bt=new yd}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),N.resolve()},e.prototype.getCollectionParents=function(t,n){return N.resolve(this.Bt.getEntries(n))},e}(),yd=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ne(Y.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ne(Y.comparator)).toArray()},e}(),ok=function(){function e(){this.qt=new yd}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:Ht(o)};return zv(t).put(s)}return N.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[q0(n),""],!1,!0);return zv(t).Nt(i).next(function(o){for(var s=0,u=o;s<u.length;s++){var a=u[s];if(a.collectionId!==n)break;r.push(fn(a.parent))}return r})},e}();function zv(e){return yt(e,_r.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xt=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(e,t,n){var r=e.store(re.store),i=e.store(qe.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.$t({range:s},function(y,g,S){return u++,S.delete()});o.push(a.next(function(){U(u===1)}));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],d=qe.key(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}return N.waitFor(o).next(function(){return l})}function wa(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw L();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);var sk=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return U(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kn(t).$t({index:re.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=Jr(t),u=kn(t);return u.add({}).next(function(a){U(typeof a=="number");for(var l=new pd(a,n,r,i),c=function(v,p,m){var E=m.baseMutations.map(function(x){return ga(v.Lt,x)}),k=m.mutations.map(function(x){return ga(v.Lt,x)});return new re(p,m.batchId,m.localWriteTime.toMillis(),E,k)}(o.R,o.userId,l),f=[],h=new Ne(function(v,p){return H(v.canonicalString(),p.canonicalString())}),d=0,y=i;d<y.length;d++){var g=y[d],S=qe.key(o.userId,g.key.path,a);h=h.add(g.key.path.popLast()),f.push(u.put(c)),f.push(s.put(S,qe.PLACEHOLDER))}return h.forEach(function(v){f.push(o.Ut.addToCollectionParentIndex(t,v))}),t.addOnCommittedListener(function(){o.Kt[a]=l.keys()}),N.waitFor(f).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return kn(t).get(n).next(function(i){return i?(U(i.userId===r.userId),Xr(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?N.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return kn(t).$t({index:re.userMutationsIndex,range:o},function(u,a,l){a.userId===r.userId&&(U(a.batchId>=i),s=Xr(r.R,a)),l.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return kn(t).$t({index:re.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kn(t).Nt(re.userMutationsIndex,r).next(function(i){return i.map(function(o){return Xr(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=qe.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return Jr(t).$t({range:o},function(u,a,l){var c=u[0],f=u[1],h=u[2],d=fn(f);if(c===r.userId&&n.path.isEqual(d))return kn(t).get(h).next(function(y){if(!y)throw L();U(y.userId===r.userId),s.push(Xr(r.R,y))});l.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ne(H),o=[];return n.forEach(function(s){var u=qe.prefixForPath(r.userId,s.path),a=IDBKeyRange.lowerBound(u),l=Jr(t).$t({range:a},function(c,f,h){var d=c[0],y=c[1],g=c[2],S=fn(y);d===r.userId&&s.path.isEqual(S)?i=i.add(g):h.done()});o.push(l)}),N.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=qe.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(s),a=new Ne(H);return Jr(t).$t({range:u},function(l,c,f){var h=l[0],d=l[1],y=l[2],g=fn(d);h===r.userId&&i.isPrefixOf(g)?g.length===o&&(a=a.add(y)):f.done()}).next(function(){return r.Wt(t,a)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(kn(t).get(s).next(function(u){if(u===null)throw L();U(u.userId===r.userId),i.push(Xr(r.R,u))}))}),N.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Dw(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),N.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return N.resolve();var i=IDBKeyRange.lowerBound(qe.prefixForUser(n.userId)),o=[];return Jr(t).$t({range:i},function(s,u,a){if(s[0]===n.userId){var l=fn(s[1]);o.push(l)}else a.done()}).next(function(){U(o.length===0)})})},e.prototype.containsKey=function(t,n){return Aw(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return bw(t).get(this.userId).next(function(r){return r||new Hn(n.userId,-1,"")})},e}();function Aw(e,t,n){var r=qe.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Jr(e).$t({range:o,Ft:!0},function(u,a,l){var c=u[0],f=u[1];u[2],c===t&&f===i&&(s=!0),l.done()}).next(function(){return s})}function kn(e){return yt(e,re.store)}function Jr(e){return yt(e,qe.store)}function bw(e){return yt(e,Hn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),uk=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Ea(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return q.fromTimestamp(new dt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Gr(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return U(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return Gr(t).$t(function(u,a){var l=Eo(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(t,l)))}).next(function(){return N.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return Gr(t).$t(function(r,i){var o=Eo(i);n(o)})},e.prototype.Xt=function(t){return qv(t).get(wt.key).next(function(n){return U(n!==null),n})},e.prototype.Zt=function(t,n){return qv(t).put(wt.key,n)},e.prototype.te=function(t,n){return Gr(t).put(Cw(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Ds(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Gr(t).$t({range:i,index:lt.queryTargetsIndexName},function(s,u,a){var l=Eo(u);al(n,l.target)&&(o=l,a.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Rn(t);return n.forEach(function(u){var a=Ht(u.path);o.push(s.put(new Oe(r,a))),o.push(i.referenceDelegate.addReference(t,r,u))}),N.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Rn(t);return N.forEach(n,function(s){var u=Ht(s.path);return N.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Rn(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Rn(t),o=te();return i.$t({range:r,Ft:!0},function(s,u,a){var l=fn(s[1]),c=new M(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=Ht(n.path),i=IDBKeyRange.bound([r],[q0(r)],!1,!0),o=0;return Rn(t).$t({index:Oe.documentTargetsIndex,Ft:!0,range:i},function(s,u,a){var l=s[0];s[1],l!==0&&(o++,a.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return Gr(t).get(n).next(function(r){return r?Eo(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){return yt(e,lt.store)}function qv(e){return yt(e,wt.store)}function Rn(e){return yt(e,Oe.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e){return T(this,void 0,void 0,function(){return _(this,function(t){if(e.code!==w.FAILED_PRECONDITION||e.message!==_w)throw e;return D("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=H(n,i);return s===0?H(r,o):s}var ak=function(){function e(t){this.ne=t,this.buffer=new Ne(Kv),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Kv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),lk=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;D("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return T(n,void 0,void 0,function(){var i;return _(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return zr(i=o.sent())?(D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Br(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),ck=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return N.resolve(_t.o);var i=new ak(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(Bv)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Bv):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,u,a,l,c=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>c.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+h),i=c.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),c.nthSequenceNumber(t,i)}).next(function(h){return r=h,u=Date.now(),c.removeTargets(t,r,n)}).next(function(h){return o=h,a=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(h){return l=Date.now(),Sf()<=G.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(u-s)+`ms
	Removed `+o+" targets in "+(a-u)+`ms
	Removed `+h+" documents in "+(l-a)+`ms
Total Duration: `+(l-f)+"ms"),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),fk=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new ck(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return cu(t,r)},e.prototype.removeReference=function(t,n,r){return cu(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return cu(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return bw(r).Ot(function(s){return Aw(r,s,i).next(function(u){return u&&(o=!0),N.resolve(!u)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(u,a){if(a<=n){var l=r._e(t,u).next(function(c){if(!c)return s++,i.getEntry(t,u).next(function(){return i.removeEntry(u),Rn(t).delete([0,Ht(u.path)])})});o.push(l)}}).next(function(){return N.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return cu(t,n)},e.prototype.we=function(t,n){var r,i=Rn(t),o=_t.o;return i.$t({index:Oe.documentTargetsIndex},function(s,u){var a=s[0];s[1];var l=u.path,c=u.sequenceNumber;a===0?(o!==_t.o&&n(new M(fn(r)),o),o=c,r=l):o=_t.o}).next(function(){o!==_t.o&&n(new M(fn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function cu(e,t){return Rn(e).put(function(n,r){return new Oe(0,Ht(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xi=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];if(this.equalsFn(u,t))return a}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Vr(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];t(u,a)}})},e.prototype.isEmpty=function(){return K0(this.inner)},e}(),Pw=function(){function e(){this.changes=new Xi(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:q.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Ge.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?N.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),hk=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Dn(t).put(fu(n),r)},e.prototype.removeEntry=function(t,n){var r=Dn(t),i=fu(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Dn(t).get(fu(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Dn(t).get(fu(n)).next(function(i){return{document:r.ye(n,i),size:wa(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Kt();return this.pe(t,n,function(o,s){var u=r.ye(o,s);i=i.insert(o,u)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Kt(),o=new Ye(M.comparator);return this.pe(t,n,function(s,u){var a=r.ye(s,u);i=i.insert(s,a),o=o.insert(s,wa(u))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return N.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return Dn(t).$t({range:i},function(u,a,l){for(var c=M.fromSegments(u);s&&M.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,a),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=Kt(),s=n.path.length+1,u={};if(r.isEqual(q.min())){var a=n.path.toArray();u.range=IDBKeyRange.lowerBound(a)}else{var l=n.path.toArray(),c=vd(r);u.range=IDBKeyRange.lowerBound([l,c],!0),u.index=de.collectionReadTimeIndex}return Dn(t).$t(u,function(f,h,d){if(f.length===s){var y=xf(i.R,h);n.path.isPrefixOf(y.key.path)?Ps(n,y)&&(o=o.insert(y.key,y)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new dk(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Hv(t).get(Zt.key).next(function(n){return U(!!n),n})},e.prototype.me=function(t,n){return Hv(t).put(Zt.key,n)},e.prototype.ye=function(t,n){if(n){var r=xf(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(q.min()))return r}return Ge.newInvalidDocument(t)},e}(),dk=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Xi(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return $(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ne(function(u,a){return H(u.canonicalString(),a.canonicalString())});return this.changes.forEach(function(u,a){var l=r.Ae.get(u);if(a.document.isValidDocument()){var c=Uv(r.Ie.R,a.document,r.getReadTime(u));s=s.add(u.path.popLast());var f=wa(c);o+=f-l,i.push(r.Ie.addEntry(n,u,c))}else if(o-=l,r.trackRemovals){var h=Uv(r.Ie.R,Ge.newNoDocument(u,q.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,h))}else i.push(r.Ie.removeEntry(n,u))}),s.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),N.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(u,a){i.Ae.set(u,a)}),s})},t}(Pw);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(e){return yt(e,Zt.store)}function Dn(e){return yt(e,de.store)}function fu(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pk=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;U(r<i&&r>=0&&i<=11);var s=new Iw("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore(gt.store)}(t),function(a){a.createObjectStore(Hn.store,{keyPath:Hn.keyPath}),a.createObjectStore(re.store,{keyPath:re.keyPath,autoIncrement:!0}).createIndex(re.userMutationsIndex,re.userMutationsKeyPath,{unique:!0}),a.createObjectStore(qe.store)}(t),Qv(t),function(a){a.createObjectStore(de.store)}(t));var u=N.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore(Oe.store),a.deleteObjectStore(lt.store),a.deleteObjectStore(wt.store)}(t),Qv(t)),u=u.next(function(){return function(a){var l=a.store(wt.store),c=new wt(0,0,q.min().toTimestamp(),0);return l.put(wt.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(a,l){return l.store(re.store).Nt().next(function(c){a.deleteObjectStore(re.store),a.createObjectStore(re.store,{keyPath:re.keyPath,autoIncrement:!0}).createIndex(re.userMutationsIndex,re.userMutationsKeyPath,{unique:!0});var f=l.store(re.store),h=c.map(function(d){return f.put(d)});return N.waitFor(h)})}(t,s)})),u=u.next(function(){(function(a){a.createObjectStore(pn.store,{keyPath:pn.keyPath})})(t)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(s)})),r<6&&i>=6&&(u=u.next(function(){return function(a){a.createObjectStore(Zt.store)}(t),o.be(s)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(s)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(u=u.next(function(){(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t),function(a){var l=a.objectStore(de.store);l.createIndex(de.readTimeIndex,de.readTimeIndexPath,{unique:!1}),l.createIndex(de.collectionReadTimeIndex,de.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(s)})),r<11&&i>=11&&(u=u.next(function(){(function(a){a.createObjectStore(Fi.store,{keyPath:Fi.keyPath})})(t),function(a){a.createObjectStore(Mi.store,{keyPath:Mi.keyPath})}(t)})),u},e.prototype.be=function(t){var n=0;return t.store(de.store).$t(function(r,i){n+=wa(i)}).next(function(){var r=new Zt(n);return t.store(Zt.store).put(Zt.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Hn.store),i=t.store(re.store);return r.Nt().next(function(o){return N.forEach(o,function(s){var u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(re.userMutationsIndex,u).next(function(a){return N.forEach(a,function(l){U(l.userId===s.userId);var c=Xr(n.R,l);return Dw(t,s.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Oe.store),r=t.store(de.store);return t.store(wt.store).get(wt.key).next(function(i){var o=[];return r.$t(function(s,u){var a=new Y(s),l=function(c){return[0,Ht(c)]}(a);o.push(n.get(l).next(function(c){return c?N.resolve():function(f){return n.put(new Oe(0,Ht(f),i.highestListenSequenceNumber))}(a)}))}).next(function(){return N.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(_r.store,{keyPath:_r.keyPath});var r=n.store(_r.store),i=new yd,o=function(s){if(i.add(s)){var u=s.lastSegment(),a=s.popLast();return r.put({collectionId:u,parent:Ht(a)})}};return n.store(de.store).$t({Ft:!0},function(s,u){var a=new Y(s);return o(a.popLast())}).next(function(){return n.store(qe.store).$t({Ft:!0},function(s,u){s[0];var a=s[1];s[2];var l=fn(a);return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(lt.store);return r.$t(function(i,o){var s=Eo(o),u=Cw(n.R,s);return r.put(u)})},e}();function Qv(e){e.createObjectStore(Oe.store,{keyPath:Oe.keyPath}).createIndex(Oe.documentTargetsIndex,Oe.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(lt.store,{keyPath:lt.keyPath}).createIndex(lt.queryTargetsIndexName,lt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wt.store)}var cc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vk=function(){function e(t,n,r,i,o,s,u,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=u,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new I(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fk(this,i),this.Le=n+"main",this.R=new kw(a),this.Be=new $i(this.Le,11,new pk(this.R)),this.qe=new uk(this.referenceDelegate,this.R),this.Ut=new ok,this.Ue=function(f,h){return new hk(f,h)}(this.R,this.Ut),this.Ke=new rk,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Ee("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new I(w.FAILED_PRECONDITION,cc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new _t(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return T(n,void 0,void 0,function(){return _(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return T(n,void 0,void 0,function(){return _(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return T(n,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return hu(n).put(new pn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(zr(n))return D("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return po(t).get(gt.key).next(function(r){return N.resolve(n.tn(r))})},e.prototype.en=function(t){return hu(t).delete(this.clientId)},e.prototype.nn=function(){return T(this,void 0,void 0,function(){var t,n,r,i,o=this;return _(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var a=yt(u,pn.store);return a.Nt().next(function(l){var c=o.rn(l,18e5),f=l.filter(function(h){return c.indexOf(h)===-1});return N.forEach(f,function(h){return a.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?N.resolve(!0):po(t).get(gt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new I(w.FAILED_PRECONDITION,cc);return!1}}return!(!n.networkEnabled||!n.inForeground)||hu(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,a=n.networkEnabled===o.networkEnabled;if(s||u&&a)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&D("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return T(this,void 0,void 0,function(){var t=this;return _(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[gt.store,pn.store],function(r){var i=new $v(r,_t.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return hu(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return sk.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;D("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,ZI,function(u){return o=new $v(u,i.Ne?i.Ne.next():_t.o),n==="readwrite-primary"?i.Je(o).next(function(a){return!!a||i.Ye(o)}).next(function(a){if(!a)throw Ee("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new I(w.FAILED_PRECONDITION,_w);return r(o)}).next(function(a){return i.Ze(o).next(function(){return a})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},e.prototype.dn=function(t){var n=this;return po(t).get(gt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new I(w.FAILED_PRECONDITION,cc)})},e.prototype.Ze=function(t){var n=new gt(this.clientId,this.allowTabSynchronization,Date.now());return po(t).put(gt.key,n)},e.yt=function(){return $i.yt()},e.prototype.Xe=function(t){var n=this,r=po(t);return r.get(gt.key).next(function(i){return n.tn(i)?(D("IndexedDbPersistence","Releasing primary lease."),r.delete(gt.key)):N.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ee("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),w_()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return D("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ee("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ee("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function po(e){return yt(e,gt.store)}function hu(e){return yt(e,pn.store)}function md(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Rw=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return M.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):ad(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new M(n)).next(function(r){var i=Nf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Nf();return this.Ut.getCollectionParents(t,o).next(function(u){return N.forEach(u,function(a){var l=function(c,f){return new _n(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(u){return i=u,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(u){return o=u,s.Rn(t,o,i).next(function(a){i=a;for(var l=0,c=o;l<c.length;l++)for(var f=c[l],h=0,d=f.mutations;h<d.length;h++){var y=d[h],g=y.key,S=i.get(g);S==null&&(S=Ge.newInvalidDocument(g),i=i.insert(g,S)),kf(y,S,f.localWriteTime),S.isFoundDocument()||(i=i.remove(g))}})}).next(function(){return i.forEach(function(u,a){Ps(n,a)||(i=i.remove(u))}),i})},e.prototype.Rn=function(t,n,r){for(var i=te(),o=0,s=n;o<s.length;o++)for(var u=0,a=s[o].mutations;u<a.length;u++){var l=a[u];l instanceof rr&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(c=c.insert(h,d))}),c})},e}(),yk=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=te(),i=te(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ow=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(q.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var u=o.Cn(n,s);return(Cu(n)||ma(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(t,n):(Sf()<=G.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),If(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(a){return u.forEach(function(l){a=a.insert(l.key,l)}),a}))})},e.prototype.Cn=function(t,n){var r=new Ne(ew(t));return n.forEach(function(i,o){Ps(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Sf()<=G.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",If(n)),this.Sn.getDocumentsMatchingQuery(t,n,q.min())},e}(),mk=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Ye(H),this.Fn=new Xi(function(o){return Ds(o)},al),this.$n=q.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Rw(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e,t,n,r){return new mk(e,t,n,r)}function Fw(e,t){return T(this,void 0,void 0,function(){var n,r,i,o;return _(this,function(s){switch(s.label){case 0:return n=b(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var a;return n._n.getAllMutationBatches(u).next(function(l){return a=l,r=n.persistence.getMutationQueue(t),i=new Rw(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(l){for(var c=[],f=[],h=te(),d=0,y=a;d<y.length;d++){var g=y[d];c.push(g.batchId);for(var S=0,v=g.mutations;S<v.length;S++){var p=v[S];h=h.add(p.key)}}for(var m=0,E=l;m<E.length;m++){var k=E[m];f.push(k.batchId);for(var x=0,A=k.mutations;x<A.length;x++){var F=A[x];h=h.add(F.key)}}return i.pn(u,h).next(function(Z){return{Ln:Z,removedBatchIds:c,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function gk(e,t){var n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,u,a,l){var c=a.batch,f=c.keys(),h=N.resolve();return f.forEach(function(d){h=h.next(function(){return l.getEntry(u,d)}).next(function(y){var g=a.docVersions.get(d);U(g!==null),y.version.compareTo(g)<0&&(c.applyToRemoteDocument(y,a),y.isValidDocument()&&l.addEntry(y,a.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(u,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Mw(e){var t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function wk(e,t){var n=b(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];t.targetChanges.forEach(function(c,f){var h=i.get(f);if(h){u.push(n.qe.removeMatchingKeys(o,c.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,f)}));var d=c.resumeToken;if(d.approximateByteSize()>0){var y=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,y),function(g,S,v){return U(S.resumeToken.approximateByteSize()>0),g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,y,c)&&u.push(n.qe.updateTargetData(o,y))}}});var a=Kt();if(t.documentUpdates.forEach(function(c,f){t.resolvedLimboDocuments.has(c)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),u.push(Ek(o,s,t.documentUpdates,r).next(function(c){a=c})),!r.isEqual(q.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(l)}return N.waitFor(u).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,a)}).next(function(){return a})}).then(function(o){return n.kn=i,o})}function Ek(e,t,n,r,i){var o=te();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var u=Kt();return n.forEach(function(a,l){var c=s.get(a),f=r;l.isNoDocument()&&l.version.isEqual(q.min())?(t.removeEntry(a,f),u=u.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,f),u=u.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),u})}function Sk(e,t){var n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Sa(e,t){var n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,N.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new hl(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function ji(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s;return _(this,function(u){switch(u.label){case 0:r=b(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(a){return r.persistence.referenceDelegate.removeTarget(a,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!zr(s=u.sent()))throw s;return D("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function _a(e,t,n){var r=b(e),i=q.min(),o=te();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(u,a,l){var c=b(u),f=c.Fn.get(l);return f!==void 0?N.resolve(c.kn.get(f)):c.qe.getTargetData(a,l)}(r,s,on(t)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,u.targetId).next(function(a){o=a})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:q.min(),n?o:te())}).next(function(u){return{documents:u,Bn:o}})})}function $w(e,t){var n=b(e),r=b(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function Uw(e){var t=b(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=b(r),u=Kt(),a=vd(o),l=Dn(i),c=IDBKeyRange.lowerBound(a,!0);return l.$t({index:de.readTimeIndex,range:c},function(f,h){var d=xf(s.R,h);u=u.insert(d.key,d),a=h.readTime}).next(function(){return{wn:u,readTime:Nw(a)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function _k(e){return T(this,void 0,void 0,function(){var t;return _(this,function(n){return[2,(t=b(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Dn(i),s=q.min();return o.$t({index:de.readTimeIndex,reverse:!0},function(u,a,l){a.readTime&&(s=Nw(a.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tk=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return N.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:nt(r.createTime)}),N.resolve()},e.prototype.getNamedQuery=function(t,n){return N.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:xw(r.bundledQuery),readTime:nt(r.readTime)}}(n)),N.resolve()},e}(),gd=function(){function e(){this.Wn=new Ne(xe.Gn),this.zn=new Ne(xe.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new xe(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new xe(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new M(new Y([])),i=new xe(r,t),o=new xe(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),s.push(u.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new M(new Y([])),r=new xe(n,t),i=new xe(n,t+1),o=te();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new xe(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),xe=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return M.comparator(t.key,n.key)||H(t.ns,n.ns)},e.Hn=function(t,n){return H(t.ns,n.ns)||M.comparator(t.key,n.key)},e}(),Ik=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ne(xe.Gn)}return e.prototype.checkEmpty=function(t){return N.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new pd(o,n,r,i);this._n.push(s);for(var u=0,a=i;u<a.length;u++){var l=a[u];this.rs=this.rs.add(new xe(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return N.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return N.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return N.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return N.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return N.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new xe(n,0),o=new xe(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(u){var a=r.os(u.ns);s.push(a)}),N.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ne(H);return n.forEach(function(o){var s=new xe(o,0),u=new xe(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,u],function(a){i=i.add(a.ns)})}),N.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;M.isDocumentKey(o)||(o=o.child(""));var s=new xe(new M(o),0),u=new Ne(H);return this.rs.forEachWhile(function(a){var l=a.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(u=u.add(a.ns)),!0)},s),N.resolve(this.us(u))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;U(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return N.forEach(n.mutations,function(o){var s=new xe(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new xe(n,0),i=this.rs.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,N.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),kk=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Ye(M.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return N.resolve(r?r.document.clone():Ge.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Kt();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Ge.newInvalidDocument(o))}),N.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Kt(),o=new M(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),a=u.key,l=u.value,c=l.document,f=l.readTime;if(!n.path.isPrefixOf(a.path))break;f.compareTo(r)<=0||Ps(n,c)&&(i=i.insert(c.key,c.clone()))}return N.resolve(i)},e.prototype.fs=function(t,n){return N.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Nk(this)},e.prototype.getSize=function(t){return N.resolve(this.size)},e}(),Nk=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return $(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),N.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(Pw),Ck=function(){function e(t){this.persistence=t,this.ds=new Xi(function(n){return Ds(n)},al),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.ws=0,this._s=new gd,this.targetCount=0,this.ys=Ea.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),N.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return N.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return N.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),N.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),N.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Ea(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,N.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),N.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,N.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(u,a){a.sequenceNumber<=n&&r.get(a.targetId)===null&&(i.ds.delete(u),s.push(i.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),N.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return N.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return N.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),N.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),N.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),N.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return N.resolve(r)},e.prototype.containsKey=function(t,n){return N.resolve(this._s.containsKey(n))},e}(),xk=function(){function e(t,n){var r=this;this.gs={},this.Ne=new _t(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ck(this),this.Ut=new ik,this.Ue=function(i,o){return new kk(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new kw(n),this.Ke=new Tk(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Ik(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;D("MemoryPersistence","Starting transaction:",t);var o=new Dk(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return N.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Dk=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return $(t,e),t}(Tw),Ak=function(){function e(t){this.persistence=t,this.As=new gd,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw L()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),N.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),N.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),N.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.vs,function(i){var o=M.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return N.or([function(){return N.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Re=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(e,t){return"firestore_clients_"+e+"_"+t}function Gv(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function fc(e,t){return"firestore_targets_"+e+"_"+t}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");var Yv=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new I(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Ee("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),hc=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new I(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ee("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Xv=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=fl(),s=0;i&&s<r.activeTargetIds.length;++s)i=W0(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Ee("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),bk=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ee("SharedClientState","Failed to parse online state: "+t),null)},e}(),Df=function(){function e(){this.activeTargetIds=fl()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),dc=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ye(H),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Wv(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Df),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return T(this,void 0,void 0,function(){var t,n,r,i,o,s,u,a,l,c,f,h=this;return _(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(Wv(this.persistenceKey,i)))&&(s=Xv.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(a=this.js(u))&&this.Ws(a),l=0,c=this.$s;l<c.length;l++)f=c[l],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(fc(this.persistenceKey,t));if(r){var i=hc.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(fc(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return D("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){D("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){D("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(D("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ee("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return T(n,void 0,void 0,function(){var i,o,s,u,a,l;return _(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(a=this.js(r.newValue)))return[2,this.Ws(a)]}else if(r.key===this.Ms)(l=function(f){var h=_t.o;if(f!=null)try{var d=JSON.parse(f);U(typeof d=="number"),h=d}catch(y){Ee("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(r.newValue))!==_t.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Yv(this.currentUser,t,n,r),o=Gv(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=Gv(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=fc(this.persistenceKey,t),o=new hc(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Xv.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Yv.Vs(new Re(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return hc.Vs(i,n)},e.prototype.js=function(t){return bk.Vs(t)},e.prototype.ii=function(t){return T(this,void 0,void 0,function(){return _(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(D("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),u=[],a=[];return s.forEach(function(l){o.has(l)||u.push(l)}),o.forEach(function(l){s.has(l)||a.push(l)}),this.syncEngine.hi(u,a).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=fl();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),Vw=function(){function e(){this.li=new Df,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Df,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Pk=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Jv=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ok=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Lk=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return $(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,u){var a=new fI;a.listenOnce(aI.COMPLETE,function(){try{switch(a.getLastErrorCode()){case lc.NO_ERROR:var c=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(c)),s(c);break;case lc.TIMEOUT:D("Connection",'RPC "'+n+'" timed out'),u(new I(w.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:var f=a.getStatus();if(D("Connection",'RPC "'+n+'" failed with status:',f,"response text:",a.getResponseText()),f>0){var h=a.getResponseJson().error;if(h&&h.status&&h.message){var d=function(y){var g=y.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(g)>=0?g:w.UNKNOWN}(h.status);u(new I(d,h.message))}else u(new I(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new I(w.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{D("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);a.send(r,"POST",l,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=sI(),s=uI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new cI({})),this.ki(u.initMessageHeaders,r),h_()||v_()||y_()||m_()||g_()||p_()||(u.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");D("Connection","Creating WebChannel: "+a,u);var l=o.createWebChannel(a,u),c=!1,f=!1,h=new Ok({Ei:function(y){f?D("Connection","Not sending because WebChannel is closed:",y):(c||(D("Connection","Opening WebChannel transport."),l.open(),c=!0),D("Connection","WebChannel sending:",y),l.send(y))},Ti:function(){return l.close()}}),d=function(y,g,S){y.listen(g,function(v){try{S(v)}catch(p){setTimeout(function(){throw p},0)}})};return d(l,au.EventType.OPEN,function(){f||D("Connection","WebChannel transport opened.")}),d(l,au.EventType.CLOSE,function(){f||(f=!0,D("Connection","WebChannel transport closed"),h.Vi())}),d(l,au.EventType.ERROR,function(y){f||(f=!0,ha("Connection","WebChannel transport errored:",y),h.Vi(new I(w.UNAVAILABLE,"The operation could not be completed")))}),d(l,au.EventType.MESSAGE,function(y){var g;if(!f){var S=y.data[0];U(!!S);var v=S,p=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(p){D("Connection","WebChannel received error:",p);var m=p.status,E=function(x){var A=me[x];if(A!==void 0)return cw(A)}(m),k=p.message;E===void 0&&(E=w.INTERNAL,k="Unknown error status: "+m+" with message "+p.message),f=!0,h.Vi(new I(E,k)),l.close()}else D("Connection","WebChannel received:",S),h.Si(S)}}),d(s,lI.STAT_EVENT,function(y){y.stat===vv.PROXY?D("Connection","Detected buffering proxy"):y.stat===vv.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);D("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(u){return D("RestConnection","Received: ",u),u},function(u){throw ha("RestConnection",t+" failed with error: ",u,"url: ",o,"request:",r),u})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=Rk[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof window<"u"?window:null}function Au(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){return new jI(e,!0)}var wd=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&D("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),zw=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new wd(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return T(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return T(this,void 0,void 0,function(){return _(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return T(this,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ee(n.toString()),Ee("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===w.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new I(w.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return T(t,void 0,void 0,function(){return _(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return D("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Fk=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,u}return $(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var u;if("targetChange"in s){s.targetChange;var a=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:L()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(S,v){return S.I?(U(v===void 0||typeof v=="string"),pt.fromBase64String(v||"")):(U(v===void 0||v instanceof Uint8Array),pt.fromUint8Array(v||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(S){var v=S.code===void 0?w.UNKNOWN:cw(S.code);return new I(v,S.message||"")}(h);u=new hw(a,l,c,f||null)}else if("documentChange"in s){s.documentChange,(a=s.documentChange).document,a.document.name,a.document.updateTime,l=dn(o,a.document.name),c=nt(a.document.updateTime);var h=new Et({mapValue:{fields:a.document.fields}}),d=(f=Ge.newFoundDocument(l,c,h),a.targetIds||[]),y=a.removedTargetIds||[];u=new Du(d,y,f.key,f)}else if("documentDelete"in s)s.documentDelete,(a=s.documentDelete).document,l=dn(o,a.document),c=a.readTime?nt(a.readTime):q.min(),h=Ge.newNoDocument(l,c),f=a.removedTargetIds||[],u=new Du([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(a=s.documentRemove).document,l=dn(o,a.document),c=a.removedTargetIds||[],u=new Du([],c,l,null);else{if(!("filter"in s))return L();s.filter;var g=s.filter;g.targetId,a=g.count||0,l=new bI(a),c=g.targetId,u=new fw(c,l)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return q.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?nt(s.readTime):q.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=cs(this.R),r.addTarget=function(o,s){var u,a=s.target;return(u=va(a)?{documents:mw(o,a)}:{query:gw(o,a)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=dw(o,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(u.readTime=as(o,s.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,s){var u=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,s.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=cs(this.R),r.removeTarget=n,this.cr(r)},t}(zw),Mk=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,u.gr=!1,u}return $(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(U(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(U(s!==void 0),o.map(function(u){return function(a,l){var c=a.updateTime?nt(a.updateTime):nt(l);return c.isEqual(q.min())&&(c=nt(l)),new xI(c,a.transformResults||[])}(u,s)})):[]}(n.writeResults,n.commitTime),i=nt(n.commitTime);return this.listener.Tr(i,r)}return U(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=cs(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return ga(r.R,o)})};this.cr(i)},t}(zw),$k=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return $(t,e),t.prototype.br=function(){if(this.Rr)throw new I(w.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new I(w.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new I(w.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Uk=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ee(n),this.Vr=!1):D("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Vk=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return T(o,void 0,void 0,function(){return _(this,function(u){switch(u.label){case 0:return ir(this)?(D("RemoteStore","Restarting streams for network reachability change."),[4,function(a){return T(this,void 0,void 0,function(){var l;return _(this,function(c){switch(c.label){case 0:return(l=b(a)).Or.add(4),[4,Ji(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,Fs(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new Uk(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(e){return T(this,void 0,void 0,function(){var t,n;return _(this,function(r){switch(r.label){case 0:if(!ir(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ji(e){return T(this,void 0,void 0,function(){var t,n;return _(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function pl(e,t){var n=b(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),_d(n)?Sd(n):eo(n).er()&&Ed(n,t))}function fs(e,t){var n=b(e),r=eo(n);n.$r.delete(t),r.er()&&Bw(n,t),n.$r.size===0&&(r.er()?r.ir():ir(n)&&n.Br.set("Unknown"))}function Ed(e,t){e.qr.U(t.targetId),eo(e).mr(t)}function Bw(e,t){e.qr.U(t),eo(e).yr(t)}function Sd(e){e.qr=new $I({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),eo(e).start(),e.Br.Sr()}function _d(e){return ir(e)&&!eo(e).tr()&&e.$r.size>0}function ir(e){return b(e).Or.size===0}function qw(e){e.qr=void 0}function jk(e){return T(this,void 0,void 0,function(){return _(this,function(t){return e.$r.forEach(function(n,r){Ed(e,n)}),[2]})})}function zk(e,t){return T(this,void 0,void 0,function(){return _(this,function(n){return qw(e),_d(e)?(e.Br.Nr(t),Sd(e)):e.Br.set("Unknown"),[2]})})}function Bk(e,t,n){return T(this,void 0,void 0,function(){var r,i,o;return _(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof hw&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(u,a){return T(this,void 0,void 0,function(){var l,c,f,h;return _(this,function(d){switch(d.label){case 0:l=a.cause,c=0,f=a.targetIds,d.label=1;case 1:return c<f.length?(h=f[c],u.$r.has(h)?[4,u.remoteSyncer.rejectListen(h,l)]:[3,3]):[3,5];case 2:d.sent(),u.$r.delete(h),u.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),D("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ta(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Du?e.qr.X(t):t instanceof fw?e.qr.rt(t):e.qr.et(t),n.isEqual(q.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Mw(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(u,a){var l=u.qr.ut(a);return l.targetChanges.forEach(function(c,f){if(c.resumeToken.approximateByteSize()>0){var h=u.$r.get(f);h&&u.$r.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach(function(c){var f=u.$r.get(c);if(f){u.$r.set(c,f.withResumeToken(pt.EMPTY_BYTE_STRING,f.snapshotVersion)),Bw(u,c);var h=new hl(f.target,c,1,f.sequenceNumber);Ed(u,h)}}),u.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return D("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ta(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Ta(e,t,n){return T(this,void 0,void 0,function(){var r=this;return _(this,function(i){switch(i.label){case 0:if(!zr(t))throw t;return e.Or.add(1),[4,Ji(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Mw(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return T(r,void 0,void 0,function(){return _(this,function(o){switch(o.label){case 0:return D("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,Fs(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function Kw(e,t){return t().catch(function(n){return Ta(e,n,t)})}function Zi(e){return T(this,void 0,void 0,function(){var t,n,r,i,o;return _(this,function(s){switch(s.label){case 0:t=b(e),n=Xn(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(u){return ir(u)&&u.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Sk(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,a){u.Fr.push(a);var l=Xn(u);l.er()&&l.pr&&l.Er(a.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Ta(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Hw(t)&&Qw(t),[2]}})})}function Hw(e){return ir(e)&&!Xn(e).tr()&&e.Fr.length>0}function Qw(e){Xn(e).start()}function qk(e){return T(this,void 0,void 0,function(){return _(this,function(t){return Xn(e).Ar(),[2]})})}function Kk(e){return T(this,void 0,void 0,function(){var t,n,r,i;return _(this,function(o){for(t=Xn(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function Hk(e,t,n){return T(this,void 0,void 0,function(){var r,i;return _(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=nk.from(r,t,n),[4,Kw(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Zi(e)];case 2:return o.sent(),[2]}})})}function Qk(e,t){return T(this,void 0,void 0,function(){return _(this,function(n){switch(n.label){case 0:return t&&Xn(e).pr?[4,function(r,i){return T(this,void 0,void 0,function(){var o,s;return _(this,function(u){switch(u.label){case 0:return lw(s=i.code)&&s!==w.ABORTED?(o=r.Fr.shift(),Xn(r).sr(),[4,Kw(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Zi(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Hw(e)&&Qw(e),[2]}})})}function Af(e,t){return T(this,void 0,void 0,function(){var n;return _(this,function(r){switch(r.label){case 0:return n=b(e),t?(n.Or.delete(2),[4,Fs(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ji(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function eo(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=b(n);return o.br(),new Fk(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:jk.bind(null,e),Ri:zk.bind(null,e),_r:Bk.bind(null,e)}),e.Mr.push(function(n){return T(t,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),_d(e)?Sd(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),qw(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Xn(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=b(n);return o.br(),new Mk(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:qk.bind(null,e),Ri:Qk.bind(null,e),Ir:Kk.bind(null,e),Tr:Hk.bind(null,e)}),e.Mr.push(function(n){return T(t,void 0,void 0,function(){return _(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Zi(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(D("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var Wk=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new I(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function to(e,t){if(Ee("AsyncQueue",t+": "+e),zr(e))return new I(w.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ww=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||M.comparator(n.key,r.key)}:function(n,r){return M.comparator(n.key,r.key)},this.keyedMap=Nf(),this.sortedSet=new Ye(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Zv=function(){function e(){this.Qr=new Ye(M.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):L():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Ia=function(){function e(t,n,r,i,o,s,u,a){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,Ww.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),Gk=function(){this.Wr=void 0,this.listeners=[]},Yk=function(){this.queries=new Xi(function(e){return Z0(e)},bs),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return _(this,function(l){switch(l.label){case 0:if(n=b(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Gk),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return u=l.sent(),a=to(u,"Initialization of query '"+If(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&kd(n),[2]}})})}function Id(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s;return _(this,function(u){return n=b(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Xk(e,t){for(var n=b(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var l=0,c=a.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);a.Wr=s}}r&&kd(n)}function Jk(e,t,n){var r=b(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function kd(e){e.Gr.forEach(function(t){t.next()})}var Nd=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new Ia(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Ia.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gw=function(e){this.key=e},Yw=function(e){this.key=e},Xw=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=te(),this.mutatedKeys=te(),this.lo=ew(t),this.fo=new Ww(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Zv,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,u=o,a=!1,l=Cu(this.query)&&o.size===this.query.limit?o.last():null,c=ma(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var y=o.get(h),g=Ps(r.query,d)?d:null,S=!!y&&r.mutatedKeys.has(y.key),v=!!g&&(g.hasLocalMutations||r.mutatedKeys.has(g.key)&&g.hasCommittedMutations),p=!1;y&&g?y.data.isEqual(g.data)?S!==v&&(i.track({type:3,doc:g}),p=!0):r.yo(y,g)||(i.track({type:2,doc:g}),p=!0,(l&&r.lo(g,l)>0||c&&r.lo(g,c)<0)&&(a=!0)):!y&&g?(i.track({type:0,doc:g}),p=!0):y&&!g&&(i.track({type:1,doc:y}),p=!0,(l||c)&&(a=!0)),p&&(g?(u=u.add(g),s=v?s.add(h):s.delete(h)):(u=u.delete(h),s=s.delete(h)))}),Cu(this.query)||ma(this.query))for(;u.size>this.query.limit;){var f=Cu(this.query)?u.last():u.first();u=u.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:u,mo:i,Nn:a,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(c,f){return function(h,d){var y=function(g){switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return y(h)-y(d)}(c.type,f.type)||i.lo(c.doc,f.doc)}),this.po(r);var u=n?this.Eo():[],a=this.ho.size===0&&this.current?1:0,l=a!==this.ao;return this.ao=a,s.length!==0||l?{snapshot:new Ia(this.query,t.fo,o,s,t.mutatedKeys,a===0,l,!1),To:u}:{To:u}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Zv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=te(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Yw(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new Gw(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=te();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Ia.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),Zk=function(e,t,n){this.query=e,this.targetId=t,this.view=n},eN=function(e){this.key=e,this.bo=!1},tN=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Xi(function(u){return Z0(u)},bs),this.Vo=new Map,this.So=new Set,this.Do=new Ye(M.comparator),this.Co=new Map,this.No=new gd,this.xo={},this.ko=new Map,this.Fo=Ea.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function nN(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s,u;return _(this,function(a){switch(a.label){case 0:return n=bd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sa(n.localStore,on(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Cd(n,t,r,u==="current")];case 3:i=a.sent(),n.isPrimaryClient&&pl(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}function Cd(e,t,n,r){return T(this,void 0,void 0,function(){var i,o,s,u,a,l;return _(this,function(c){switch(c.label){case 0:return e.Oo=function(f,h,d){return function(y,g,S,v){return T(this,void 0,void 0,function(){var p,m,E;return _(this,function(k){switch(k.label){case 0:return p=g.view._o(S),p.Nn?[4,_a(y.localStore,g.query,!1).then(function(x){var A=x.documents;return g.view._o(A,p)})]:[3,2];case 1:p=k.sent(),k.label=2;case 2:return m=v&&v.targetChanges.get(g.targetId),E=g.view.applyChanges(p,y.isPrimaryClient,m),[2,(bf(y,g.targetId,E.To),E.snapshot)]}})})}(e,f,h,d)},[4,_a(e.localStore,t,!0)];case 1:return i=c.sent(),o=new Xw(t,i.Bn),s=o._o(i.documents),u=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),a=o.applyChanges(s,e.isPrimaryClient,u),bf(e,n,a.To),l=new Zk(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),a.snapshot)]}})})}function rN(e,t){return T(this,void 0,void 0,function(){var n,r,i;return _(this,function(o){switch(o.label){case 0:return n=b(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!bs(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ji(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),fs(n.remoteStore,r.targetId),zi(n,r.targetId)}).catch(Br)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zi(n,r.targetId),[4,ji(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function iN(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s;return _(this,function(u){switch(u.label){case 0:r=Pd(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(a,l){var c,f=b(a),h=dt.now(),d=l.reduce(function(y,g){return y.add(g.key)},te());return f.persistence.runTransaction("Locally write mutations","readwrite",function(y){return f.Mn.pn(y,d).next(function(g){c=g;for(var S=[],v=0,p=l;v<p.length;v++){var m=p[v],E=AI(m,c.get(m.key));E!=null&&S.push(new rr(m.key,E,G0(E.value.mapValue),He.exists(!0)))}return f._n.addMutationBatch(y,h,S,l)})}).then(function(y){return y.applyToLocalDocumentSet(c),{batchId:y.batchId,changes:c}})}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){var f=a.xo[a.currentUser.toKey()];f||(f=new Ye(H)),f=f.insert(l,c),a.xo[a.currentUser.toKey()]=f}(r,i.batchId,n),[4,or(r,i.changes)];case 3:return u.sent(),[4,Zi(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=to(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Jw(e,t){return T(this,void 0,void 0,function(){var n,r;return _(this,function(i){switch(i.label){case 0:n=b(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wk(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var u=n.Co.get(s);u&&(U(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?U(u.bo):o.removedDocuments.size>0&&(U(u.bo),u.bo=!1))}),[4,or(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Br(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ey(e,t,n){var r=b(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var u=s.view.zr(t);u.snapshot&&i.push(u.snapshot)}),function(o,s){var u=b(o);u.onlineState=s;var a=!1;u.queries.forEach(function(l,c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].zr(s)&&(a=!0)}),a&&kd(u)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function oN(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s,u,a;return _(this,function(l){switch(l.label){case 0:return(r=b(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Ye(M.comparator)).insert(o,Ge.newNoDocument(o,q.min())),u=te().add(o),a=new cd(q.min(),new Map,new Ne(H),s,u),[4,Jw(r,a)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Ad(r),[3,4];case 2:return[4,ji(r.localStore,t,!1).then(function(){return zi(r,t,n)}).catch(Br)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function sN(e,t){return T(this,void 0,void 0,function(){var n,r,i;return _(this,function(o){switch(o.label){case 0:n=b(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,gk(n.localStore,t)];case 2:return i=o.sent(),Dd(n,r,null),xd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,or(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Br(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uN(e,t,n){return T(this,void 0,void 0,function(){var r,i;return _(this,function(o){switch(o.label){case 0:r=b(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,u){var a=b(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return a._n.lookupMutationBatch(l,u).next(function(f){return U(f!==null),c=f.keys(),a._n.removeMutationBatch(l,f)}).next(function(){return a._n.performConsistencyCheck(l)}).next(function(){return a.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Dd(r,t,n),xd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,or(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Br(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function aN(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s;return _(this,function(u){switch(u.label){case 0:ir((n=b(e)).remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(a){var l=b(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),s=to(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function xd(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Dd(e,t,n){var r=b(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function zi(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||Zw(e,s)})}function Zw(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(fs(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ad(e))}function bf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Gw?(e.No.addReference(o.key,t),lN(e,o)):o instanceof Yw?(D("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Zw(e,o.key)):L()}}function lN(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(D("SyncEngine","New document in limbo: "+n),e.So.add(r),Ad(e))}function Ad(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new M(Y.fromString(t)),r=e.Fo.next();e.Co.set(r,new eN(n)),e.Do=e.Do.insert(n,r),pl(e.remoteStore,new hl(on(As(n.path)),r,2,_t.o))}}function or(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s;return _(this,function(u){switch(u.label){case 0:return r=b(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(a,l){s.push(r.Oo(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var f=yk.Pn(l.targetId,c);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(a,l){return T(this,void 0,void 0,function(){var c,f,h,d,y,g,S,v,p;return _(this,function(m){switch(m.label){case 0:c=b(a),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(E){return N.forEach(l,function(k){return N.forEach(k.bn,function(x){return c.persistence.referenceDelegate.addReference(E,k.targetId,x)}).next(function(){return N.forEach(k.vn,function(x){return c.persistence.referenceDelegate.removeReference(E,k.targetId,x)})})})})];case 2:return m.sent(),[3,4];case 3:if(!zr(f=m.sent()))throw f;return D("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=l;h<d.length;h++)y=d[h],g=y.targetId,y.fromCache||(S=c.kn.get(g),v=S.snapshotVersion,p=S.withLastLimboFreeSnapshotVersion(v),c.kn=c.kn.insert(g,p));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function cN(e,t){return T(this,void 0,void 0,function(){var n,r;return _(this,function(i){switch(i.label){case 0:return(n=b(e)).currentUser.isEqual(t)?[3,3]:(D("SyncEngine","User change. New user:",t.toKey()),[4,Fw(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(u){u.forEach(function(a){a.reject(new I(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,or(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function fN(e,t){var n=b(e),r=n.Co.get(t);if(r&&r.bo)return te().add(r.key);var i=te(),o=n.Vo.get(t);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],l=n.Po.get(a);i=i.unionWith(l.view.wo)}return i}function hN(e,t){return T(this,void 0,void 0,function(){var n,r,i;return _(this,function(o){switch(o.label){case 0:return[4,_a((n=b(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&bf(n,t.targetId,i.To),i)]}})})}function dN(e){return T(this,void 0,void 0,function(){var t;return _(this,function(n){return[2,Uw((t=b(e)).localStore).then(function(r){return or(t,r)})]})})}function pN(e,t,n,r){return T(this,void 0,void 0,function(){var i,o;return _(this,function(s){switch(s.label){case 0:return[4,function(u,a){var l=b(u),c=b(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return c.jt(f,a).next(function(h){return h?l.Mn.pn(f,h):N.resolve(null)})})}((i=b(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Zi(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Dd(i,t,r||null),xd(i,t),function(u,a){b(b(u)._n).Gt(a)}(i.localStore,t)):L(),s.label=4;case 4:return[4,or(i,o)];case 5:return s.sent(),[3,7];case 6:D("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function vN(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s,u,a,l;return _(this,function(c){switch(c.label){case 0:return bd(n=b(e)),Pd(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ty(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Af(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)u=s[o],pl(n.remoteStore,u);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(a=[],l=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?a.push(h):l=l.then(function(){return zi(n,h),ji(n.localStore,h,!0)}),fs(n.remoteStore,h)}),[4,l]);case 4:return c.sent(),[4,ty(n,a)];case 5:return c.sent(),function(f){var h=b(f);h.Co.forEach(function(d,y){fs(h.remoteStore,y)}),h.No.ts(),h.Co=new Map,h.Do=new Ye(M.comparator)}(n),n.$o=!1,[4,Af(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ty(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s,u,a,l,c,f,h,d,y,g,S;return _(this,function(v){switch(v.label){case 0:r=b(e),i=[],o=[],s=0,u=t,v.label=1;case 1:return s<u.length?(a=u[s],l=void 0,(c=r.Vo.get(a))&&c.length!==0?[4,Sa(r.localStore,on(c[0]))]:[3,7]):[3,13];case 2:l=v.sent(),f=0,h=c,v.label=3;case 3:return f<h.length?(d=h[f],y=r.Po.get(d),[4,hN(r,y)]):[3,6];case 4:(g=v.sent()).snapshot&&o.push(g.snapshot),v.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,$w(r.localStore,a)];case 8:return S=v.sent(),[4,Sa(r.localStore,S)];case 9:return l=v.sent(),[4,Cd(r,e1(S),a,!1)];case 10:v.sent(),v.label=11;case 11:i.push(l),v.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function e1(e){return X0(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yN(e){var t=b(e);return b(b(t.localStore).persistence).fn()}function mN(e,t,n,r){return T(this,void 0,void 0,function(){var i,o,s;return _(this,function(u){switch(u.label){case 0:return(i=b(e)).$o?(D("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Uw(i.localStore)];case 3:return o=u.sent(),s=cd.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,or(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,ji(i.localStore,t,!0)];case 6:return u.sent(),zi(i,t,r),[3,8];case 7:L(),u.label=8;case 8:return[2]}})})}function gN(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s,u,a,l,c,f,h;return _(this,function(d){switch(d.label){case 0:if(!(r=bd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(D("SyncEngine","Adding an already active target "+s),[3,5]):[4,$w(r.localStore,s)]):[3,6];case 2:return u=d.sent(),[4,Sa(r.localStore,u)];case 3:return a=d.sent(),[4,Cd(r,e1(u),a.targetId,!1)];case 4:d.sent(),pl(r.remoteStore,a),d.label=5;case 5:return i++,[3,1];case 6:l=function(y){return _(this,function(g){switch(g.label){case 0:return r.Vo.has(y)?[4,ji(r.localStore,y,!1).then(function(){fs(r.remoteStore,y),zi(r,y)}).catch(Br)]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})},c=0,f=n,d.label=7;case 7:return c<f.length?(h=f[c],[5,l(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function bd(e){var t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oN.bind(null,t),t.vo._r=Xk.bind(null,t.eventManager),t.vo.Mo=Jk.bind(null,t.eventManager),t}function Pd(e){var t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uN.bind(null,t),t}var t1=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return T(this,void 0,void 0,function(){return _(this,function(n){switch(n.label){case 0:return this.R=dl(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Lw(this.persistence,new Ow,t.initialUser,this.R)},e.prototype.qo=function(t){return new xk(Ak.bs,this.R)},e.prototype.Bo=function(t){return new Vw},e.prototype.terminate=function(){return T(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),n1=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return $(t,e),t.prototype.initialize=function(n){return T(this,void 0,void 0,function(){var r=this;return _(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,_k(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Pd(this.Qo.syncEngine)];case 4:return i.sent(),[4,Zi(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return Lw(this.persistence,new Ow,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new lk(r,n.asyncQueue)},t.prototype.qo=function(n){var r=md(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new vk(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,jw(),Au(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Vw},t}(t1),wN=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return $(t,e),t.prototype.initialize=function(n){return T(this,void 0,void 0,function(){var r,i=this;return _(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof dc?(this.sharedClientState.syncEngine={ui:pN.bind(null,r),ai:mN.bind(null,r),hi:gN.bind(null,r),fn:yN.bind(null,r),ci:dN.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return T(i,void 0,void 0,function(){return _(this,function(u){switch(u.label){case 0:return[4,vN(this.Qo.syncEngine,s)];case 1:return u.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=jw();if(!dc.yt(r))throw new I(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=md(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new dc(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(n1),Pf=function(){function e(){}return e.prototype.initialize=function(t,n){return T(this,void 0,void 0,function(){var r=this;return _(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return ey(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,this.syncEngine),[4,Af(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new Yk},e.prototype.createDatastore=function(t){var n,r=dl(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new Lk(n));return function(o,s,u){return new $k(o,s,u)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,u=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(a){return ey(u.syncEngine,a,0)},s=Jv.yt()?new Jv:new Pk,new Vk(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,u,a,l){var c=new tN(r,i,o,s,u,a);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return T(this,void 0,void 0,function(){var n;return _(this,function(r){switch(r.label){case 0:return n=b(t),D("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ji(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vl=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),EN=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return T(this,void 0,void 0,function(){var n,r=this;return _(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new I(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return T(this,void 0,void 0,function(){var u,a,l,c,f,h;return _(this,function(d){switch(d.label){case 0:return u=b(o),a=cs(u.R)+"/documents",l={documents:s.map(function(y){return ls(u.R,y)})},[4,u.$i("BatchGetDocuments",a,l)];case 1:return c=d.sent(),f=new Map,c.forEach(function(y){var g=function(S,v){return"found"in v?function(p,m){U(!!m.found),m.found.name,m.found.updateTime;var E=dn(p,m.found.name),k=nt(m.found.updateTime),x=new Et({mapValue:{fields:m.found.fields}});return Ge.newFoundDocument(E,k,x)}(S,v):"missing"in v?function(p,m){U(!!m.missing),U(!!m.readTime);var E=dn(p,m.missing),k=nt(m.readTime);return Ge.newNoDocument(E,k)}(S,v):L()}(u.R,y);f.set(g.key.toString(),g)}),h=[],[2,(s.forEach(function(y){var g=f.get(y.toString());U(!!g),h.push(g)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ls(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return T(this,void 0,void 0,function(){var t,n=this;return _(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=M.fromPath(o);n.mutations.push(new ld(s,n.precondition(s)))}),[4,function(i,o){return T(this,void 0,void 0,function(){var s,u,a;return _(this,function(l){switch(l.label){case 0:return s=b(i),u=cs(s.R)+"/documents",a={writes:o.map(function(c){return ga(s.R,c)})},[4,s.Ni("Commit",u,a)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw L();n=q.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new I(w.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?He.updateTime(n):He.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(q.min()))throw new I(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return He.updateTime(n)}return He.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),SN=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new wd(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return T(t,void 0,void 0,function(){var n,r,i=this;return _(this,function(o){return n=new EN(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(u){i.ic(u)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!jr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!lw(n)}return!1},e}(),_N=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Re.UNAUTHENTICATED,this.clientId=B0.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return T(i,void 0,void 0,function(){return _(this,function(s){switch(s.label){case 0:return D("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return T(this,void 0,void 0,function(){return _(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new I(w.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return T(t,void 0,void 0,function(){var r,i;return _(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=to(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(e,t){return T(this,void 0,void 0,function(){var n,r,i=this;return _(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return T(i,void 0,void 0,function(){return _(this,function(u){switch(u.label){case 0:return r.isEqual(s)?[3,2]:[4,Fw(t.localStore,s)];case 1:u.sent(),r=s,u.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function i1(e,t){return T(this,void 0,void 0,function(){var n,r;return _(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Rd(e)];case 1:return n=i.sent(),D("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,u){return T(this,void 0,void 0,function(){var a,l;return _(this,function(c){switch(c.label){case 0:return(a=b(s)).asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials"),l=ir(a),a.Or.add(3),[4,Ji(a)];case 1:return c.sent(),l&&a.Br.set("Unknown"),[4,a.remoteSyncer.handleCredentialChange(u)];case 2:return c.sent(),a.Or.delete(3),[4,Fs(a)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function Rd(e){return T(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(D("FirestoreClient","Using default OfflineComponentProvider"),[4,r1(e,new t1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function yl(e){return T(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(D("FirestoreClient","Using default OnlineComponentProvider"),[4,i1(e,new Pf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function ny(e){return Rd(e).then(function(t){return t.persistence})}function o1(e){return Rd(e).then(function(t){return t.localStore})}function ry(e){return yl(e).then(function(t){return t.remoteStore})}function s1(e){return yl(e).then(function(t){return t.syncEngine})}function Bi(e){return T(this,void 0,void 0,function(){var t,n;return _(this,function(r){switch(r.label){case 0:return[4,yl(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=nN.bind(null,t.syncEngine),n.onUnlisten=rN.bind(null,t.syncEngine),n)]}})})}function iy(e,t,n){var r=this;n===void 0&&(n={});var i=new vt;return e.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var o;return _(this,function(s){switch(s.label){case 0:return o=function(u,a,l,c,f){var h=new vl({next:function(y){a.enqueueAndForget(function(){return Id(u,d)});var g=y.docs.has(l);!g&&y.fromCache?f.reject(new I(w.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&y.fromCache&&c&&c.source==="server"?f.reject(new I(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:function(y){return f.reject(y)}}),d=new Nd(As(l.path),h,{includeMetadataChanges:!0,so:!0});return Td(u,d)},[4,Bi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function oy(e,t,n){var r=this;n===void 0&&(n={});var i=new vt;return e.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var o;return _(this,function(s){switch(s.label){case 0:return o=function(u,a,l,c,f){var h=new vl({next:function(y){a.enqueueAndForget(function(){return Id(u,d)}),y.fromCache&&c.source==="server"?f.reject(new I(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:function(y){return f.reject(y)}}),d=new Nd(l,h,{includeMetadataChanges:!0,so:!0});return Td(u,d)},[4,Bi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var TN=function(e,t,n,r,i,o,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},ka=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),sy=new Map,u1=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},uy=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Re.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),IN=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),kN=function(){function e(t){var n=this;this.currentUser=Re.UNAUTHENTICATED,this.oc=new vt,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){D("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(D("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(D("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(U(typeof i.accessToken=="string"),new u1(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return T(r,void 0,void 0,function(){return _(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return U(t===null||typeof t=="string"),new Re(t)},e}(),NN=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Re.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),CN=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new NN(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Re.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t,n){if(!n)throw new I(w.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ld(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new I(w.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function a1(e,t,n,r){if(t===!0&&r===!0)throw new I(w.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ay(e){if(!M.isDocumentKey(e))throw new I(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function ly(e){if(M.isDocumentKey(e))throw new I(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ml(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":L()}function X(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new I(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ml(e);throw new I(w.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cy(e,t){if(t<=0)throw new I(w.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fy=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new I(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new I(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,a1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),hs=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,t instanceof ka?(this._databaseId=t,this._credentials=new uy):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new I(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(r.options.projectId)}(t),this._credentials=new kN(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new I(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new I(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new uy;switch(n.type){case"gapi":var r=n.client;return U(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new CN(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new I(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=sy.get(t))&&(D("ComponentProvider","Removing Datastore"),sy.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),le=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qn(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),kt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Qn=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,As(i))||this)._path=i,o.type="collection",o}return $(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new le(this.firestore,null,new M(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Se(e),Od("collection","path",t),e instanceof hs)return ly(n=Y.fromString.apply(Y,pe([t],r))),new Qn(e,null,n);if(!(e instanceof le||e instanceof Qn))throw new I(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ly(n=Y.fromString.apply(Y,pe([e.path],r)).child(Y.fromString(t))),new Qn(e.firestore,null,n)}function bu(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Se(e),arguments.length===1&&(t=B0.u()),Od("doc","path",t),e instanceof hs)return ay(n=Y.fromString.apply(Y,pe([t],r))),new le(e,null,new M(n));if(!(e instanceof le||e instanceof Qn))throw new I(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ay(n=e._path.child(Y.fromString.apply(Y,pe([t],r)))),new le(e.firestore,e instanceof Qn?e.converter:null,new M(n))}function c1(e,t){return e=Se(e),t=Se(t),(e instanceof le||e instanceof Qn)&&(t instanceof le||t instanceof Qn)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function f1(e,t){return e=Se(e),t=Se(t),e instanceof kt&&t instanceof kt&&e.firestore===t.firestore&&bs(e._query,t._query)&&e.converter===t.converter}var xN=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new wd(this,"async_queue_retry"),this.Ic=function(){var r=Au();r&&D("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Au();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Au();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new vt;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return T(this,void 0,void 0,function(){var t,n=this;return _(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!zr(t=r.sent()))throw t;return D("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Ee("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=Wk.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&L()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return T(this,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,u){return s.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function qi(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var DN=-1,ke=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new xN,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return $(t,e),t.prototype._terminate=function(){return this._firestoreClient||h1(this),this._firestoreClient.terminate()},t}(hs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(e){return e._firestoreClient||h1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function h1(e){var t,n=e._freezeSettings(),r=function(i,o,s,u){return new TN(i,o,s,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _N(e._credentials,e._queue,r)}function hy(e,t,n){var r=this,i=new vt;return e.asyncQueue.enqueue(function(){return T(r,void 0,void 0,function(){var o;return _(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,r1(e,n)];case 1:return s.sent(),[4,i1(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===w.FAILED_PRECONDITION||u.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function dy(e){if(e._initialized||e._terminated)throw new I(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new I(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Fr=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(pt.fromBase64String(t))}catch(n){throw new I(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(pt.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),qr=function(e){this._methodName=e},gl=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new I(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new I(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return H(this._lat,t._lat)||H(this._long,t._long)},e}(),AN=/^__.*__$/,bN=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Os(t,this.data,n,this.fieldTransforms)},e}(),d1=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new rr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}var v1=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Na(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(p1(this.Nc)&&AN.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),PN=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||dl(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new v1({Nc:t,methodName:n,qc:r,path:Wt.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Kr(e){var t=e._freezeSettings(),n=dl(e._databaseId);return new PN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wl(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Ud("Data must be an object, but it was:",s,r);var u,a,l=g1(r,s);if(o.merge)u=new Ai(s.fieldMask),a=s.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Rf(t,h[f],n);if(!s.contains(d))throw new I(w.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");E1(c,d)||c.push(d)}u=new Ai(c),a=s.fieldTransforms.filter(function(y){return u.covers(y.field)})}else u=null,a=s.fieldTransforms;return new bN(new Et(l),u,a)}var Fd=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(qr);function y1(e,t,n){return new v1({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var RN=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype._toFieldTransform=function(n){return new Rs(n.path,new Oi)},t.prototype.isEqual=function(n){return n instanceof t},t}(qr),ON=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return $(t,e),t.prototype._toFieldTransform=function(n){var r=y1(this,n,!0),i=this.Kc.map(function(s){return Hr(s,r)}),o=new Or(i);return new Rs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(qr),LN=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return $(t,e),t.prototype._toFieldTransform=function(n){var r=y1(this,n,!0),i=this.Kc.map(function(s){return Hr(s,r)}),o=new Lr(i);return new Rs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(qr),FN=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return $(t,e),t.prototype._toFieldTransform=function(n){var r=new Li(n.R,rw(n.R,this.Qc));return new Rs(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(qr);function Md(e,t,n,r){var i=e.Uc(1,t,n);Ud("Data must be an object, but it was:",i,r);var o=[],s=Et.empty();Vr(r,function(a,l){var c=Vd(t,a,n);l=Se(l);var f=i.Oc(c);if(l instanceof Fd)o.push(c);else{var h=Hr(l,f);h!=null&&(o.push(c),s.set(c,h))}});var u=new Ai(o);return new d1(s,u,i.fieldTransforms)}function $d(e,t,n,r,i,o){var s=e.Uc(1,t,n),u=[Rf(t,r,n)],a=[i];if(o.length%2!=0)throw new I(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)u.push(Rf(t,o[l])),a.push(o[l+1]);for(var c=[],f=Et.empty(),h=u.length-1;h>=0;--h)if(!E1(c,u[h])){var d=u[h],y=a[h];y=Se(y);var g=s.Oc(d);if(y instanceof Fd)c.push(d);else{var S=Hr(y,g);S!=null&&(c.push(d),f.set(d,S))}}var v=new Ai(c);return new d1(f,v,s.fieldTransforms)}function m1(e,t,n,r){return r===void 0&&(r=!1),Hr(n,e.Uc(r?4:3,t))}function Hr(e,t){if(w1(e=Se(e)))return Ud("Unsupported field value:",t,e),g1(e,t);if(e instanceof qr)return function(n,r){if(!p1(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,u=n;s<u.length;s++){var a=Hr(u[s],r.Mc(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Se(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rw(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=dt.fromDate(n);return{timestampValue:as(r.R,i)}}if(n instanceof dt)return i=new dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:as(r.R,i)};if(n instanceof gl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fr)return{bytesValue:dw(r.R,n._byteString)};if(n instanceof le){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:hd(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+ml(n))}(e,t)}function g1(e,t){var n={};return K0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vr(e,function(r,i){var o=Hr(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function w1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof dt||e instanceof gl||e instanceof Fr||e instanceof le||e instanceof qr)}function Ud(e,t,n){if(!w1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=ml(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Rf(e,t,n){if((t=Se(t))instanceof nn)return t._internalPath;if(typeof t=="string")return Vd(e,t);throw Na("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var MN=new RegExp("[~\\*/\\[\\]]");function Vd(e,t,n){if(t.search(MN)>=0)throw Na("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(nn.bind.apply(nn,pe([void 0],t.split("."))))()._internalPath}catch{throw Na("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Na(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new I(w.INVALID_ARGUMENT,(u+=". ")+e+a)}function E1(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new le(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Ca("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),$N=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ds);function Ca(e,t){return typeof t=="string"?Vd(e,t):t instanceof nn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),vn=function(e){function t(n,r,i,o,s,u){var a=this;return(a=e.call(this,n,r,i,o,u)||this)._firestore=n,a._firestoreImpl=n,a.metadata=s,a}return $(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Ca("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(ds),Oo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(vn),On=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Oo(r._firestore,r._userDataWriter,i.key,i,new gr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new I(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new Oo(r._firestore,r._userDataWriter,u.doc.key,u.doc,new gr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var a=new Oo(r._firestore,r._userDataWriter,u.doc.key,u.doc,new gr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return u.type!==0&&(l=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(c=(s=s.add(u.doc)).indexOf(u.doc.key)),{type:UN(u.type),doc:a,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function UN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function S1(e,t){return e instanceof vn&&t instanceof vn?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof On&&t instanceof On&&e._firestore===t._firestore&&f1(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e){if(ma(e)&&e.explicitOrderBy.length===0)throw new I(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ms=function(){};function Nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var VN=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return $(t,e),t.prototype._apply=function(n){var r=Kr(n.firestore),i=function(o,s,u,a,l,c,f){var h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new I(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){gy(f,c);for(var d=[],y=0,g=f;y<g.length;y++){var S=g[y];d.push(my(a,o,S))}h={arrayValue:{values:d}}}else h=my(a,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||gy(f,c),h=m1(u,"where",f,c==="in"||c==="not-in");var v=Tt.create(l,c,h);return function(p,m){if(m.g()){var E=ud(p);if(E!==null&&!E.isEqual(m.field))throw new I(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+E.toString()+"' and '"+m.field.toString()+"'");var k=sd(p);k!==null&&I1(p,m.field,k)}var x=function(A,F){for(var Z=0,z=A.filters;Z<z.length;Z++){var st=z[Z];if(F.indexOf(st.op)>=0)return st.op}return null}(p,function(A){switch(A){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(x!==null)throw x===m.op?new I(w.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+m.op.toString()+"' filter."):new I(w.INVALID_ARGUMENT,"Invalid query. You cannot use '"+m.op.toString()+"' filters with '"+x.toString()+"' filters.")}(o,v),v}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new kt(n.firestore,n.converter,function(o,s){var u=o.filters.concat([s]);return new _n(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Ms),jN=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return $(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new I(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new I(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new wi(o,s);return function(a,l){if(sd(a)===null){var c=ud(a);c!==null&&I1(a,c,l.field)}}(i,u),u}(n._query,this.jc,this.zc);return new kt(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new _n(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Ms),py=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return $(t,e),t.prototype._apply=function(n){return new kt(n.firestore,n.converter,J0(n._query,this.Hc,this.Jc))},t}(Ms),vy=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return $(t,e),t.prototype._apply=function(n){var r=T1(n,this.type,this.Yc,this.Xc);return new kt(n.firestore,n.converter,function(i,o){return new _n(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(Ms),yy=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return $(t,e),t.prototype._apply=function(n){var r=T1(n,this.type,this.Yc,this.Xc);return new kt(n.firestore,n.converter,function(i,o){return new _n(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(Ms);function T1(e,t,n,r){if(n[0]=Se(n[0]),n[0]instanceof ds)return function(o,s,u,a,l){if(!a)throw new I(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var c=[],f=0,h=Ri(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())c.push(pa(s,a.key));else{var y=a.data.field(d.field);if(rd(y))throw new I(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var g=d.field.canonicalString();throw new I(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+g+"' (used as the orderBy) does not exist.")}c.push(y)}}return new us(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Kr(e.firestore);return function(o,s,u,a,l,c){var f=o.explicitOrderBy;if(l.length>f.length)throw new I(w.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<l.length;d++){var y=l[d];if(f[d].field.isKeyField()){if(typeof y!="string")throw new I(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+a+"(), but got a "+typeof y);if(!ad(o)&&y.indexOf("/")!==-1)throw new I(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+a+"() must be a plain document ID, but '"+y+"' contains a slash.");var g=o.path.child(Y.fromString(y));if(!M.isDocumentKey(g))throw new I(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+a+"() must result in a valid document path, but '"+g+"' is not because it contains an odd number of segments.");var S=new M(g);h.push(pa(s,S))}else{var v=m1(u,a,y);h.push(v)}}return new us(h,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function my(e,t,n){if(typeof(n=Se(n))=="string"){if(n==="")throw new I(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ad(t)&&n.indexOf("/")!==-1)throw new I(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Y.fromString(n));if(!M.isDocumentKey(r))throw new I(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pa(e,new M(r))}if(n instanceof le)return pa(e,n._key);throw new I(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ml(n)+".")}function gy(e,t){if(!Array.isArray(e)||e.length===0)throw new I(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new I(w.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function I1(e,t,n){if(!n.isEqual(t))throw new I(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(bi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw L()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Vr(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new gl(ge(t.latitude),ge(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Q0(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(os(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Yn(t);return new dt(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Y.fromString(t);U(Sw(r));var i=new ka(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||Ee("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var zN=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return $(t,e),t.prototype.convertBytes=function(n){return new Fr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new le(this.firestore,null,r)},t}(jd),BN=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kr(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Ln(t,this._firestore),o=El(i.converter,n,r),s=wl(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,He.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,u=Ln(t,this._firestore);return s=typeof(n=Se(n))=="string"||n instanceof nn?$d(this._dataReader,"WriteBatch.update",u._key,n,r,i):Md(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(s.toMutation(u._key,He.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ln(t,this._firestore);return this._mutations=this._mutations.concat(new Ls(n._key,He.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new I(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,t){if((e=Se(e)).firestore!==t)throw new I(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return $(t,e),t.prototype.convertBytes=function(n){return new Fr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new le(this.firestore,null,r)},t}(jd);function wy(e,t,n){e=X(e,le);var r=X(e.firestore,ke),i=El(e.converter,t,n);return $s(r,[wl(Kr(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,He.none())])}function Ey(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=X(e,le);var o=X(e.firestore,ke),s=Kr(o);return $s(o,[(typeof(t=Se(t))=="string"||t instanceof nn?$d(s,"updateDoc",e._key,t,n,r):Md(s,"updateDoc",e._key,t)).toMutation(e._key,He.exists(!0))])}function k1(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Se(e);var s={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||qi(i[u])||(s=i[u],u++);var a,l,c,f={includeMetadataChanges:s.includeMetadataChanges};if(qi(i[u])){var h=i[u];i[u]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[u+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[u+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof le)l=X(e.firestore,ke),c=As(e._key.path),a={next:function(g){i[u]&&i[u](Of(l,e,g))},error:i[u+1],complete:i[u+2]};else{var d=X(e,kt);l=X(d.firestore,ke),c=d._query;var y=new Tr(l);a={next:function(g){i[u]&&i[u](new On(l,y,d,g))},error:i[u+1],complete:i[u+2]},_1(e._query)}return function(g,S,v,p){var m=this,E=new vl(p),k=new Nd(S,E,v);return g.asyncQueue.enqueueAndForget(function(){return T(m,void 0,void 0,function(){var x;return _(this,function(A){switch(A.label){case 0:return x=Td,[4,Bi(g)];case 1:return[2,x.apply(void 0,[A.sent(),k])]}})})}),function(){E.Wo(),g.asyncQueue.enqueueAndForget(function(){return T(m,void 0,void 0,function(){var x;return _(this,function(A){switch(A.label){case 0:return x=Id,[4,Bi(g)];case 1:return[2,x.apply(void 0,[A.sent(),k])]}})})})}}(Ke(l),c,f,a)}function $s(e,t){return function(n,r){var i=this,o=new vt;return n.asyncQueue.enqueueAndForget(function(){return T(i,void 0,void 0,function(){var s;return _(this,function(u){switch(u.label){case 0:return s=iN,[4,s1(n)];case 1:return[2,s.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(Ke(e),t)}function Of(e,t,n){var r=n.docs.get(t._key),i=new Tr(e);return new vn(e,i,t._key,r,new gr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qN=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return $(t,e),t.prototype.get=function(n){var r=this,i=Ln(n,this._firestore),o=new Tr(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new vn(r._firestore,o,i._key,s._document,new gr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Kr(t)}return e.prototype.get=function(t){var n=this,r=Ln(t,this._firestore),i=new zN(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return L();var s=o[0];if(s.isFoundDocument())return new ds(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new ds(n._firestore,i,r._key,null,r.converter);throw L()})},e.prototype.set=function(t,n,r){var i=Ln(t,this._firestore),o=El(i.converter,n,r),s=wl(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,u=Ln(t,this._firestore);return s=typeof(n=Se(n))=="string"||n instanceof nn?$d(this._dataReader,"Transaction.update",u._key,n,r,i):Md(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,s),this},e.prototype.delete=function(t){var n=Ln(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){if(typeof Uint8Array>"u")throw new I(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _y(){if(typeof atob>"u")throw new I(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var N1=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return _y(),new e(Fr.fromBase64String(t))},e.fromUint8Array=function(t){return Sy(),new e(Fr.fromUint8Array(t))},e.prototype.toBase64=function(){return _y(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Sy(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),KN=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){dy(r=X(r,ke));var o=Ke(r),s=r._freezeSettings(),u=new Pf;return hy(o,u,new n1(u,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){dy(n=X(n,ke));var r=Ke(n),i=n._freezeSettings(),o=new Pf;return hy(r,o,new wN(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new I(w.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new vt;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return T(r,void 0,void 0,function(){var o;return _(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(u){return T(this,void 0,void 0,function(){var a;return _(this,function(l){switch(l.label){case 0:return $i.yt()?(a=u+"main",[4,$i.delete(a)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(md(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),C1=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ka||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||ha("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,u){var a;u===void 0&&(u={});var l=(i=X(i,hs))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&ha("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),u.mockUserToken){var c,f;if(typeof u.mockUserToken=="string")c=u.mockUserToken,f=Re.MOCK_USER;else{c=f_(u.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);var h=u.mockUserToken.sub||u.mockUserToken.user_id;if(!h)throw new I(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Re(h)}i._credentials=new IN(new u1(c,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return T(n,void 0,void 0,function(){var r,i;return _(this,function(o){switch(o.label){case 0:return[4,ny(t)];case 1:return r=o.sent(),[4,ry(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var u=b(s);return u.Or.delete(0),Fs(u)}(i))]}})})})}(Ke(X(this._delegate,ke)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return T(n,void 0,void 0,function(){var r,i;return _(this,function(o){switch(o.label){case 0:return[4,ny(t)];case 1:return r=o.sent(),[4,ry(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return T(this,void 0,void 0,function(){var u;return _(this,function(a){switch(a.label){case 0:return(u=b(s)).Or.add(0),[4,Ji(u)];case 1:return a.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ke(X(this._delegate,ke)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&a1("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new vt;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var i;return _(this,function(o){switch(o.label){case 0:return i=aN,[4,s1(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Ke(X(this._delegate,ke)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,u=new vl(o);return i.asyncQueue.enqueueAndForget(function(){return T(s,void 0,void 0,function(){var a;return _(this,function(l){switch(l.label){case 0:return a=function(c,f){b(c).Gr.add(f),f.next()},[4,Bi(i)];case 1:return[2,a.apply(void 0,[l.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return T(s,void 0,void 0,function(){var a;return _(this,function(l){switch(l.label){case 0:return a=function(c,f){b(c).Gr.delete(f)},[4,Bi(i)];case 1:return[2,a.apply(void 0,[l.sent(),u])]}})})})}}(Ke(n=X(n,ke)),qi(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new I(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xa(this,l1(this._delegate,t))}catch(n){throw Je(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ir(this,bu(this._delegate,t))}catch(n){throw Je(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Tl(this,function(n,r){if(n=X(n,hs),Od("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new I(w.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new kt(n,null,function(i){return new _n(Y.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Je(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var u=this,a=new vt;return o.asyncQueue.enqueueAndForget(function(){return T(u,void 0,void 0,function(){var l;return _(this,function(c){switch(c.label){case 0:return[4,function(f){return yl(f).then(function(h){return h.datastore})}(o)];case 1:return l=c.sent(),new SN(o.asyncQueue,l,s,a).run(),[2]}})})}),a.promise}(Ke(r),function(o){return i(new qN(r,o))})}(this._delegate,function(r){return t(new x1(n,r))})},e.prototype.batch=function(){var t=this;return Ke(this._delegate),new D1(new BN(this._delegate,function(n){return $s(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new I(w.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new I(w.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Sl=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return $(t,e),t.prototype.convertBytes=function(n){return new N1(new Fr(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ir.eu(r,this.firestore,null)},t}(jd);function HN(e){var t;t=e,qt.setLogLevel(t)}var x1=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Sl(t)}return e.prototype.get=function(t){var n=this,r=wr(t);return this._delegate.get(r).then(function(i){return new ps(n._firestore,new vn(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=wr(t);return r?(Ld("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=wr(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,pe([u,n,r],o)),this},e.prototype.delete=function(t){var n=wr(t);return this._delegate.delete(n),this},e}(),D1=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=wr(t);return r?(Ld("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=wr(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,pe([u,n,r],o)),this},e.prototype.delete=function(t){var n=wr(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),_l=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Oo(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vs(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Sl(t),n),i.set(n,o)),o},e}();_l.su=new WeakMap;var Ir=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Sl(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new I(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new le(n._delegate,r,new M(t)))},e.eu=function(t,n,r){return new e(n,new le(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xa(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xa(this.firestore,l1(this._delegate,t))}catch(n){throw Je(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Se(t))instanceof le&&c1(this._delegate,t)},e.prototype.set=function(t,n){n=Ld("DocumentReference.set",n);try{return n?wy(this._delegate,t,n):wy(this._delegate,t)}catch(r){throw Je(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?Ey(this._delegate,t):Ey.apply(void 0,pe([this._delegate,t,n],r))}catch(o){throw Je(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return $s(X((t=this._delegate).firestore,ke),[new Ls(t._key,He.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=A1(n),o=b1(n,function(s){return new ps(t.firestore,new vn(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return k1(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=X(r,le);var i=X(r.firestore,ke),o=Ke(i),s=new Tr(i);return function(u,a){var l=this,c=new vt;return u.asyncQueue.enqueueAndForget(function(){return T(l,void 0,void 0,function(){var f;return _(this,function(h){switch(h.label){case 0:return f=function(d,y,g){return T(this,void 0,void 0,function(){var S,v;return _(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(m,E){var k=b(m);return k.persistence.runTransaction("read document","readonly",function(x){return k.Mn.mn(x,E)})}(d,y)];case 1:return(v=p.sent()).isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new I(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=p.sent(),v=to(S,"Failed to get document '"+y+" from cache"),g.reject(v),[3,3];case 3:return[2]}})})},[4,o1(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._key).then(function(u){return new vn(i,s,r._key,u,new gr(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=X(r,le);var i=X(r.firestore,ke);return iy(Ke(i),r._key,{source:"server"}).then(function(o){return Of(i,r,o)})}(this._delegate):function(r){r=X(r,le);var i=X(r.firestore,ke);return iy(Ke(i),r._key).then(function(o){return Of(i,r,o)})}(this._delegate)).then(function(r){return new ps(n.firestore,new vn(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(_l.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Je(e,t,n){return e.message=e.message.replace(t,n),e}function A1(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!qi(r))return r}return{}}function b1(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=qi(e[0])?e[0]:qi(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ps=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ir(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return S1(this._delegate,t._delegate)},e}(),vs=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ps),Tl=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Sl(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Nn(this._delegate,function(i,o,s){var u=o,a=Ca("where",i);return new VN(a,u,s)}(t,n,r)))}catch(i){throw Je(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Nn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=Ca("orderBy",r);return new jN(s,o)}(t,n)))}catch(r){throw Je(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Nn(this._delegate,function(n){return cy("limit",n),new py("limit",n,"F")}(t)))}catch(n){throw Je(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Nn(this._delegate,function(n){return cy("limitToLast",n),new py("limitToLast",n,"L")}(t)))}catch(n){throw Je(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new vy("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Je(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new vy("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Je(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new yy("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Je(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new yy("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Je(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return f1(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=X(r,kt);var i=X(r.firestore,ke),o=Ke(i),s=new Tr(i);return function(u,a){var l=this,c=new vt;return u.asyncQueue.enqueueAndForget(function(){return T(l,void 0,void 0,function(){var f;return _(this,function(h){switch(h.label){case 0:return f=function(d,y,g){return T(this,void 0,void 0,function(){var S,v,p,m,E;return _(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,_a(d,y,!0)];case 1:return E=k.sent(),S=new Xw(y,E.Bn),v=S._o(E.documents),p=S.applyChanges(v,!1),g.resolve(p.snapshot),[3,3];case 2:return m=k.sent(),E=to(m,"Failed to execute query '"+y+" against cache"),g.reject(E),[3,3];case 3:return[2]}})})},[4,o1(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._query).then(function(u){return new On(i,s,r,u)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=X(r,kt);var i=X(r.firestore,ke),o=Ke(i),s=new Tr(i);return oy(o,r._query,{source:"server"}).then(function(u){return new On(i,s,r,u)})}(this._delegate):function(r){r=X(r,kt);var i=X(r.firestore,ke),o=Ke(i),s=new Tr(i);return _1(r._query),oy(o,r._query).then(function(u){return new On(i,s,r,u)})}(this._delegate)).then(function(r){return new Lf(n.firestore,new On(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=A1(n),o=b1(n,function(s){return new Lf(t.firestore,new On(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return k1(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(_l.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),QN=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vs(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Lf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Tl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new vs(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new QN(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new vs(r._firestore,i))})},e.prototype.isEqual=function(t){return S1(this._delegate,t._delegate)},e}(),xa=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return $(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ir(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ir(this.firestore,n===void 0?bu(this._delegate):bu(this._delegate,n))}catch(r){throw Je(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=X(i.firestore,ke),u=bu(i),a=El(i.converter,o);return $s(s,[wl(Kr(i.firestore),"addDoc",u._key,a,i.converter!==null,{}).toMutation(u._key,He.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new Ir(r.firestore,i)})},t.prototype.isEqual=function(n){return c1(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(_l.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Tl);function wr(e){return X(e,le)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WN=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(nn.bind.apply(nn,pe([void 0],t)))}return e.documentId=function(){return new e(Wt.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Se(t))instanceof nn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),GN=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new RN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Fd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new ON("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LN("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new FN("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),YN={Firestore:C1,GeoPoint:gl,Timestamp:dt,Blob:N1,Transaction:x1,WriteBatch:D1,DocumentReference:Ir,DocumentSnapshot:ps,Query:Tl,QueryDocumentSnapshot:vs,QuerySnapshot:Lf,CollectionReference:xa,FieldPath:WN,FieldValue:GN,setLogLevel:HN,CACHE_SIZE_UNLIMITED:DN};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e){(function(t,n){t.INTERNAL.registerComponent(new Ha("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},YN)))})(e,function(t,n){return new C1(t,new ke(t,n),new KN)}),e.registerVersion("@firebase/firestore","2.4.1")}XN(Ss);const JN={apiKey:"AIzaSyAUmafB_Mdf9yYNQP0vqS4esphLZW5RU_g",authDomain:"crud2024-6bdd0.firebaseapp.com",projectId:"crud2024-6bdd0",storageBucket:"crud2024-6bdd0.firebasestorage.app",messagingSenderId:"517017772420",appId:"1:517017772420:web:60dff0b664e2693846fdd1"},ZN=Ss.initializeApp(JN),Da=ZN.firestore();function eC({selectedProduct:e,onAddProduct:t,onUpdateProduct:n}){const[r,i]=jt.useState(""),[o,s]=jt.useState(""),[u,a]=jt.useState("");jt.useEffect(()=>{e&&(i(e.name),s(e.price))},[e]);const l=async c=>{if(c.preventDefault(),!r||!o){a("Por favor, llena todos los campos.");return}try{e?(await Da.collection("Productos").doc(e.id).update({name:r,price:parseFloat(o)}),n()):(await Da.collection("Productos").add({name:r,price:parseFloat(o)}),t()),i(""),s(""),a("")}catch(f){a("Error al guardar el producto: "+f.message)}};return ie.jsx("div",{className:"container mt-4",children:ie.jsxs("form",{onSubmit:l,className:"p-4 border rounded shadow-sm",children:[ie.jsx("h2",{children:e?"Editar Producto":"Agregar Producto"}),u&&ie.jsx("p",{className:"text-danger",children:u}),ie.jsxs("div",{className:"mb-3",children:[ie.jsx("label",{className:"form-label",children:"Nombre:"}),ie.jsx("input",{type:"text",className:"form-control",value:r,onChange:c=>i(c.target.value)})]}),ie.jsxs("div",{className:"mb-3",children:[ie.jsx("label",{className:"form-label",children:"Precio:"}),ie.jsx("input",{type:"number",className:"form-control",value:o,onChange:c=>s(c.target.value)})]}),ie.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:e?"Actualizar Producto":"Agregar Producto"})]})})}function tC({onSelectProduct:e}){const[t,n]=jt.useState([]),[r,i]=jt.useState(!0),o=async()=>{try{const a=(await Da.collection("Productos").get()).docs.map(l=>({id:l.id,...l.data()}));n(a),i(!1)}catch(u){console.error("Error al obtener productos: ",u),i(!1)}},s=async u=>{try{await Da.collection("Productos").doc(u).delete(),o()}catch(a){console.error("Error al eliminar el producto: ",a)}};return jt.useEffect(()=>{o()},[]),r?ie.jsx("p",{children:"Cargando productos..."}):ie.jsxs("div",{className:"container mt-4",children:[ie.jsx("h2",{children:"Lista de Productos"}),ie.jsx("ul",{className:"list-group",children:t.map(u=>ie.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[ie.jsxs("span",{children:[u.name," - $",u.price]}),ie.jsxs("div",{children:[ie.jsx("button",{onClick:()=>s(u.id),className:"btn btn-danger btn-sm me-2",children:"Eliminar"}),ie.jsx("button",{onClick:()=>e(u),className:"btn btn-warning btn-sm",children:"Editar"})]})]},u.id))})]})}function nC(){const[e,t]=jt.useState(null),n=o=>{t(o)},r=()=>{},i=()=>{t(null)};return ie.jsxs("div",{children:[ie.jsx(eC,{selectedProduct:e,onAddProduct:r,onUpdateProduct:i}),ie.jsx(tC,{onSelectProduct:n})," "]})}Lg(document.getElementById("root")).render(ie.jsx(jt.StrictMode,{children:ie.jsx(nC,{})}));
